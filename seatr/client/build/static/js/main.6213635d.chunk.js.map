{"version":3,"sources":["utils/AuthContext.tsx","utils/PrivateRoute.tsx","components/common/Logo.tsx","screens/Authentication/Home.tsx","utils/firebaseConfig.ts","screens/Authentication/Login.tsx","screens/Authentication/TellUsMore.tsx","screens/Authentication/index.tsx","components/Topnav/index.tsx","components/Topnav/Topnav.tsx","components/RestaurantCard/Logo.tsx","components/RestaurantCard/Background.tsx","components/RestaurantCard/Description.tsx","components/RestaurantCard/Footer.tsx","components/RestaurantCard/index.tsx","components/RestaurantCard/RestaurantCard.tsx","screens/Home/RestaurantCardList.tsx","screens/Home/index.tsx","screens/Home/Home.tsx","screens/UserReservations/index.tsx","screens/UserReservations/UserReservations.tsx","components/forms/addReviewForm.tsx","screens/RestaurantHome/components/PaymentDialog.tsx","screens/RestaurantHome/index.tsx","screens/RestaurantHome/RestaurantHome.tsx","screens/RestaurantDashboard/RestaurantDetailsControlCard.tsx","screens/RestaurantDashboard/RestaurantReservationsTable.tsx","screens/RestaurantDashboard/index.tsx","screens/RestaurantDashboard/RestaurantDashboard.tsx","App.tsx","utils/reportWebVitals.ts","index.tsx"],"names":["AuthContext","React","createContext","AuthContextWrapper","children","useCookies","cookies","setCookie","useState","user","setUser","useEffect","Provider","value","PrivateRoute","Component","component","rest","location","useLocation","useContext","console","log","render","props","to","pathname","state","prevPath","Logo","className","alt","src","Home","setGoToLogin","goToLogin","Container","Card","CardActionArea","onClick","CardContent","Typography","config","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","Login","setIsNewUser","firebase","apps","length","app","initializeApp","firebaseConfig","uiConfig","callbacks","signInSuccessWithAuthResult","authResult","isNewUser","additionalUserInfo","phoneNumber","uid","uiShown","document","querySelectorAll","style","paddingTop","textAlign","backgroundColor","classList","remove","display","signInOptions","provider","auth","PhoneAuthProvider","PROVIDER_ID","defaultCountry","firebaseui","AuthUI","getInstance","start","id","TellUsMore","selectedGender","setSelectedGender","handleClick","evt","newSelectedGender","currentTarget","textContent","previousTarget","getElementsByClassName","target","getElementById","formik","useFormik","initialValues","name","surname","onSubmit","values","prev","gender","variant","handleSubmit","TextField","label","onChange","handleChange","align","Button","type","Authentication","Topnav","history","useHistory","AppBar","position","color","push","logoHref","Background","backgroundHref","Description","description","substring","Footer","priceRange","starRating","distance","Paper","fontWeight","Rating","icon","max","defaultValue","precision","readOnly","RestaurantCard","menu","rating","goToDetails","search","restaurants","map","restaurant","uuidv4","setRestaurants","filteredRestaurants","setFilteredRestaurants","searchText","setSearchText","enableFilter","setenableFilter","covidFilter","setCovidFilter","navigator","geolocation","getCurrentPosition","coords","axios","get","latitude","longitude","withCredentials","then","data","catch","err","makeSearch","filteredRestaurant","filter","includes","tags","some","t","currentAvailableSeats","maxSeatCount","InputBase","text","fullWidth","SearchOutlined","MenuOutlined","options","orderedRestaurant","sort","r1","r2","Error","UserReservations","authContext","res","response","AddReviewForm","fileToBlob","file","a","Blob","Uint8Array","arrayBuffer","formData","FormData","blob","append","String","restaurantName","post","headers","message","stars","Dialog","open","onClose","hidden","event","files","setFieldValue","PaymentDialog","calculateTotal","order","total","forEach","item","quantity","price","dialogProps","DialogTitle","environment","paymentRequest","apiVersion","apiVersionMinor","allowedPaymentMethods","parameters","allowedAuthMethods","allowedCardNetworks","tokenizationSpecification","gateway","merchantInfo","merchantId","merchantName","transactionInfo","totalPriceStatus","totalPriceLabel","totalPrice","currencyCode","countryCode","onLoadPaymentData","RestaurantHome","setRestaurant","counter","setCounter","setOpen","openPaymentDialog","setOpenPaymentDialog","reviews","setReviews","setOrder","dateTime","setDateTime","params","handleOpenPaymentPopUpDialog","menuItem","width","maxHeight","left","transform","borderRadius","borderWidth","borderStyle","borderColor","Grid","container","spacing","marginTop","xs","idx","alignItems","idx2","RemoveCircle","fontSize","InputLabelProps","shrink","paymentRequired","reservationDate","seatCount","userPhone","alert","JSON","stringify","Accordion","AccordionSummary","expandIcon","aria-controls","AccordionDetails","flexDirection","gap","val","imageHref","RestaurantDetailsControlCard","Number","AddOutlined","cleanRestaurant","_id","ownerId","__v","undefined","put","RestaurantReservations","reservations","setReservations","getAndSetReservations","status","toString","split","justifyContent","reservation","RestaurantDashboard","selectedRestaurant","setSelectedRestaurant","Select","_selectedRestaurant","find","marginBottom","MenuItem","RestaurantReservationsTable","theme","createMuiTheme","palette","primary","main","secondary","App","ThemeProvider","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.6213635d.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useCookies } from \"react-cookie\";\r\n\r\nconst AuthContext = React.createContext<[any, Function]>([{}, () => {}]);\r\n\r\nconst AuthContextWrapper = ({ children }: any) => {\r\n  const [cookies, setCookie] = useCookies([\"user\"]);\r\n  const [user, setUser] = useState(cookies.user);\r\n\r\n  useEffect(() => {\r\n    setCookie(\"user\", user);\r\n  }, [user]);\r\n\r\n  return (\r\n    <AuthContext.Provider value={[user, setUser]}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport { AuthContextWrapper, AuthContext };\r\n","//Protected route wrapper\r\n//inspired by:\r\n// https://stackoverflow.com/questions/47476186/when-user-is-not-logged-in-redirect-to-login-reactjs\r\nimport React from \"react\";\r\nimport { useContext } from \"react\";\r\nimport { Redirect, Route, useLocation } from \"react-router-dom\";\r\nimport { AuthContext } from \"./AuthContext\";\r\n\r\nexport default function PrivateRoute({ component: Component, ...rest }: any) {\r\n  let location = useLocation();\r\n  const [user] = useContext(AuthContext);\r\n  console.log(\"authentification details:\", user);\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        !user || user === \"undefined\" ? (\r\n          <Redirect\r\n            to={{ pathname: \"/login\", state: { prevPath: location.pathname } }}\r\n          />\r\n        ) : (\r\n          <Component {...props} />\r\n        )\r\n      }\r\n    />\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Logo() {\r\n  return <img className=\"logo\" alt=\"company logo\" src={\"logo.svg\"} />;\r\n}\r\n","import React from \"react\";\r\nimport {\r\n  Card,\r\n  Container,\r\n  CardActionArea,\r\n  CardContent,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport Logo from \"../../components/common/Logo\";\r\n\r\ninterface IProps {\r\n  setGoToLogin: Function;\r\n}\r\n\r\nexport default function Home({ setGoToLogin }: IProps) {\r\n  const goToLogin = () => {\r\n    setGoToLogin(true);\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <div className=\"center-children p-t-5\">\r\n        <Logo />\r\n\r\n        <Card className=\"w-20 m-b-2 center-text\">\r\n          <CardActionArea onClick={goToLogin}>\r\n            <CardContent>\r\n              <Typography>Sign in with phone number</Typography>\r\n            </CardContent>\r\n          </CardActionArea>\r\n        </Card>\r\n\r\n        <Typography className=\"bold italic cursor-pointer\" onClick={goToLogin}>\r\n          New here? Create an account!\r\n        </Typography>\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n","const config = {\r\n  apiKey: process.env.REACT_APP_APIKEY,\r\n  authDomain: process.env.REACT_APP_AUTHDOMAIN,\r\n  projectId: process.env.REACT_APP_PID,\r\n  storageBucket: process.env.REACT_APP_SB,\r\n  messagingSenderId: process.env.REACT_APP_SID,\r\n  appId: process.env.REACT_APP_APPID,\r\n  measurementId: process.env.REACT_APP_MID,\r\n};\r\n\r\nexport default config;\r\n","import React, { useEffect, useContext } from \"react\";\r\nimport firebaseConfig from \"../../utils/firebaseConfig\";\r\nimport * as firebaseui from \"firebaseui\";\r\nimport \"firebaseui/dist/firebaseui.css\";\r\nimport firebase from \"firebase\";\r\nimport { AuthContext } from \"../../utils/AuthContext\";\r\n\r\ninterface IProps {\r\n  setIsNewUser: Function;\r\n}\r\n\r\nexport default function Login({ setIsNewUser }: IProps) {\r\n  const [, setUser] = useContext(AuthContext);\r\n\r\n  useEffect(() => {\r\n    !firebase.apps.length\r\n      ? firebase.initializeApp(firebaseConfig)\r\n      : firebase.app();\r\n\r\n    const uiConfig = {\r\n      callbacks: {\r\n        signInSuccessWithAuthResult: (authResult: any) => {\r\n          const user = authResult.user;\r\n          const isNewUser = authResult.additionalUserInfo.isNewUser;\r\n          setIsNewUser(isNewUser);\r\n          setUser({\r\n            phoneNumber: user.phoneNumber,\r\n            uid: user.uid,\r\n          });\r\n          return false;\r\n        },\r\n        uiShown: () => {\r\n          // Note: forgive me for I have sinned but I did what I had to do ->\r\n          //        -> to make it look like in design without actually implementing the hard stuff\r\n          document.querySelectorAll<HTMLElement>(\r\n            \"#firebaseui-auth-container\"\r\n          )[0].style.paddingTop = \"5rem\";\r\n          document.querySelectorAll<HTMLElement>(\r\n            \".firebaseui-card-header\"\r\n          )[0].className = \"\";\r\n          document.querySelectorAll<HTMLElement>(\r\n            \".firebaseui-title\"\r\n          )[0].style.textAlign = \"center\";\r\n          document.querySelectorAll<HTMLElement>(\r\n            \".firebaseui-container\"\r\n          )[0].style.backgroundColor = \"transparent\";\r\n          document\r\n            .querySelectorAll<HTMLElement>(\".firebaseui-container\")[0]\r\n            .classList.remove(\"mdl-shadow--2dp\");\r\n          document.querySelectorAll<HTMLElement>(\r\n            \".firebaseui-card-footer\"\r\n          )[0].style.display = \"none\";\r\n        },\r\n      },\r\n      signInOptions: [\r\n        {\r\n          provider: firebase.auth.PhoneAuthProvider.PROVIDER_ID,\r\n          defaultCountry: \"RO\",\r\n        },\r\n      ],\r\n    };\r\n    var ui =\r\n      firebaseui.auth.AuthUI.getInstance() ||\r\n      new firebaseui.auth.AuthUI(firebase.auth());\r\n    ui.start(\"#firebaseui-auth-container\", uiConfig);\r\n  }, [setIsNewUser, setUser]);\r\n\r\n  return (\r\n    <>\r\n      <div id=\"firebaseui-auth-container\"></div>\r\n    </>\r\n  );\r\n}\r\n","import React, { useState, useContext } from \"react\";\r\nimport { Button, Container, TextField, Typography } from \"@material-ui/core\";\r\nimport { useFormik } from \"formik\";\r\nimport { AuthContext } from \"../../utils/AuthContext\";\r\n\r\ninterface IProps {\r\n  setIsNewUser: Function;\r\n}\r\n\r\nexport default function TellUsMore({ setIsNewUser }: IProps) {\r\n  const [selectedGender, setSelectedGender] = useState<string>();\r\n  const [, setUser] = useContext(AuthContext);\r\n\r\n  const handleClick = (evt: any) => {\r\n    const newSelectedGender = evt.currentTarget.textContent;\r\n    const previousTarget: any = document.getElementsByClassName(\r\n      \"list-element-selected\"\r\n    )[0];\r\n    const target: any = document.getElementById(newSelectedGender);\r\n\r\n    if (previousTarget) {\r\n      previousTarget.className = \"list-element\";\r\n    }\r\n\r\n    target.className = \"list-element-selected\";\r\n    setSelectedGender(newSelectedGender);\r\n  };\r\n\r\n  const formik = useFormik({\r\n    initialValues: { name: \"\", surname: \"\" },\r\n    onSubmit: (values) => {\r\n      //todo: validation\r\n      setUser((prev: any) => ({\r\n        phoneNumber: prev.phoneNumber,\r\n        uid: prev.uid,\r\n        name: values.name,\r\n        surname: values.surname,\r\n        gender: selectedGender,\r\n      }));\r\n      setIsNewUser(false);\r\n    },\r\n  });\r\n\r\n  return (\r\n    <Container className=\"m-t-5\">\r\n      <Typography className=\"center-text\" variant=\"h5\">\r\n        Tell us about you..\r\n      </Typography>\r\n\r\n      <form\r\n        onSubmit={formik.handleSubmit}\r\n        className=\"flex-column center-children\"\r\n      >\r\n        <div className=\"m-t-2 w-20\">\r\n          <TextField\r\n            name=\"name\"\r\n            label=\"name\"\r\n            variant=\"outlined\"\r\n            onChange={formik.handleChange}\r\n            className=\"w-100p\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"m-t-1 w-20\">\r\n          <TextField\r\n            name=\"surname\"\r\n            label=\"surname\"\r\n            variant=\"outlined\"\r\n            onChange={formik.handleChange}\r\n            className=\"w-100p\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"flex gap-1 m-t-2\" id=\"category\">\r\n          <div className=\"list-element\" id=\"Man\" onClick={handleClick}>\r\n            <Typography align=\"center\">Man</Typography>\r\n          </div>\r\n          <div className=\"list-element\" id=\"Woman\" onClick={handleClick}>\r\n            <Typography align=\"center\">Woman</Typography>\r\n          </div>\r\n          <div className=\"list-element\" id=\"Other\" onClick={handleClick}>\r\n            <Typography align=\"center\">Other</Typography>\r\n          </div>\r\n        </div>\r\n\r\n        <br />\r\n\r\n        <Button type=\"submit\">Next</Button>\r\n      </form>\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useState, useContext } from \"react\";\r\nimport Home from \"./Home\";\r\nimport Login from \"./Login\";\r\nimport TellUsMore from \"./TellUsMore\";\r\nimport { AuthContext } from \"../../utils/AuthContext\";\r\nimport { Redirect, useLocation } from \"react-router-dom\";\r\n\r\nexport default function Authentication() {\r\n  let location: any = useLocation();\r\n  const [goToLogin, setGoToLogin] = useState(false);\r\n  const [isNewUser, setIsNewUser] = useState(false);\r\n  const [user] = useContext(AuthContext);\r\n\r\n  if (!goToLogin) {\r\n    return <Home setGoToLogin={setGoToLogin} />;\r\n  }\r\n\r\n  if (isNewUser) {\r\n    return <TellUsMore setIsNewUser={setIsNewUser} />;\r\n  }\r\n\r\n  if (!user || user === \"undefined\") {\r\n    return <Login setIsNewUser={setIsNewUser} />;\r\n  }\r\n\r\n  return (\r\n    <Redirect\r\n      to={{ pathname: location.state ? location.state.prevPath : \"/\" }}\r\n    />\r\n  );\r\n}\r\n","import Topnav from \"./Topnav\";\r\n\r\nexport default Topnav;\r\n","import React from \"react\";\r\nimport { AppBar } from \"@material-ui/core\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nexport default function TopNav() {\r\n  let history = useHistory();\r\n\r\n  function handleClick() {\r\n    history.push(\"/\");\r\n  }\r\n\r\n  return (\r\n    <AppBar position=\"static\" color=\"primary\" onClick={handleClick}>\r\n      <img className=\"w-5 h-5 p-l-2\" alt=\"company logo\" src={\"logo_white.svg\"} />\r\n    </AppBar>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\ninterface IProps {\r\n  logoHref: string;\r\n}\r\n\r\nexport default function Logo({ logoHref }: IProps) {\r\n  return (\r\n    <div className=\"restaurant-card__logo\">\r\n      <img\r\n        className=\"w-5 h-5 cover round border-white\"\r\n        alt=\"company logo\"\r\n        src={logoHref}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\ninterface IProps {\r\n  backgroundHref: string;\r\n}\r\n\r\nexport default function Background({ backgroundHref }: IProps) {\r\n  return (\r\n    <img\r\n      className=\"w-100p h-5 cover\"\r\n      alt=\"company background\"\r\n      src={backgroundHref}\r\n    />\r\n  );\r\n}\r\n","import React, { Typography } from \"@material-ui/core\";\r\n\r\ninterface IProps {\r\n  name: string;\r\n  description: string | undefined;\r\n}\r\n\r\nexport default function Description({ name, description }: IProps) {\r\n\r\n  return (\r\n    <div className=\"p-1 secondary white\">\r\n      <br />\r\n      <Typography variant=\"h6\">{name}</Typography>\r\n      <Typography variant=\"body2\">\r\n        {description?.substring(0, 200)}...\r\n      </Typography>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Paper, Typography } from \"@material-ui/core\";\r\nimport Rating from \"@material-ui/lab/Rating\";\r\nimport DriveEtaIcon from \"@material-ui/icons/DriveEta\";\r\nimport AttachMoneyIcon from \"@material-ui/icons/AttachMoney\";\r\n\r\ninterface IProps {\r\n  priceRange: number;\r\n  starRating: number;\r\n  distance?: string;\r\n}\r\n\r\nexport default function Footer({ priceRange, starRating, distance }: IProps) {\r\n  return (\r\n    <Paper className=\"restaurant-card__footer\">\r\n      <div>\r\n        <div className=\"flex center\">\r\n          <DriveEtaIcon />\r\n          <Typography style={{ fontWeight: 600 }}>{`${distance ?? \"??\"} min`}</Typography>\r\n        </div>\r\n        <div className=\"flex center\">\r\n          <Rating\r\n            icon={<AttachMoneyIcon />}\r\n            name=\"half-rating-read\"\r\n            max={3}\r\n            defaultValue={priceRange}\r\n            precision={1}\r\n            readOnly\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"flex center\">\r\n        <Rating\r\n          name=\"half-rating-read\"\r\n          max={5}\r\n          defaultValue={starRating}\r\n          precision={0.5}\r\n          readOnly\r\n        />\r\n      </div>\r\n    </Paper>\r\n  );\r\n}\r\n","import RestaurantCard from './RestaurantCard'\r\n\r\nexport default RestaurantCard","import React, { Paper } from \"@material-ui/core\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Menu from \"../../models/MenuItem\";\r\nimport Logo from \"./Logo\";\r\nimport Background from \"./Background\";\r\nimport Description from \"./Description\";\r\nimport Footer from \"./Footer\";\r\n\r\ninterface IProps {\r\n  priceRange: number;\r\n  name: string;\r\n  description?: string | undefined;\r\n  backgroundHref: string;\r\n  logoHref: string;\r\n  menu: Array<Menu>;\r\n  distance?: string;\r\n  rating: number;\r\n}\r\n\r\nexport default function RestaurantCard({\r\n  priceRange,\r\n  name,\r\n  description,\r\n  logoHref,\r\n  backgroundHref,\r\n  menu,\r\n  distance,\r\n  rating,\r\n}: IProps) {\r\n  let history = useHistory();\r\n\r\n  const goToDetails = () => {\r\n    history.push({\r\n      pathname: \"/restaurant\",\r\n      search: `?name=${name}`,\r\n      state: {\r\n        priceRange,\r\n        name,\r\n        description,\r\n        logoHref,\r\n        backgroundHref,\r\n        menu,\r\n        distance,\r\n        rating\r\n      },\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"restaurant-card\">\r\n      <div onClick={goToDetails}>\r\n        <Logo logoHref={logoHref} />\r\n      </div>\r\n      <div onClick={goToDetails}>\r\n        <Background backgroundHref={backgroundHref} />\r\n      </div>\r\n      <Paper className=\"flex-column\">\r\n        <div onClick={goToDetails}>\r\n          <Description name={name} description={description} />\r\n        </div>\r\n        <Footer\r\n          priceRange={priceRange}\r\n          starRating={rating}\r\n          distance={distance}\r\n        />\r\n      </Paper>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Restaurant from \"../../models/Restaurant\";\r\nimport RestaurantCard from \"../../components/RestaurantCard\";\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\ninterface IProps {\r\n  restaurants: Array<Restaurant>;\r\n}\r\n\r\nexport default function Home({ restaurants }: IProps) {\r\n  return (\r\n    <div className=\"center-children\">\r\n      {restaurants.map((restaurant: Restaurant) => (\r\n        <RestaurantCard\r\n          key={uuidv4()}\r\n          name={restaurant.name}\r\n          description={restaurant.description}\r\n          backgroundHref={restaurant.backgroundHref}\r\n          logoHref={restaurant.logoHref}\r\n          menu={restaurant.menu}\r\n          distance={restaurant.distance}\r\n          priceRange={restaurant.priceRange}\r\n          rating={restaurant.rating}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n","import Home from \"./Home\";\r\n\r\nexport default Home;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Paper, InputBase } from \"@material-ui/core\";\r\nimport { MenuOutlined, SearchOutlined } from \"@material-ui/icons\";\r\nimport Restaurant from \"../../models/Restaurant\";\r\nimport RestaurantCardList from \"./RestaurantCardList\";\r\nimport axios from \"axios\";\r\nimport { Switch } from \"pretty-checkbox-react\";\r\nimport \"@djthoms/pretty-checkbox\";\r\nimport Dropdown from \"react-dropdown\";\r\nimport \"react-dropdown/style.css\";\r\n\r\nexport default function Home() {\r\n  const [restaurants, setRestaurants] = useState<Array<Restaurant>>([]);\r\n  const [filteredRestaurants, setFilteredRestaurants] = useState<\r\n    Array<Restaurant>\r\n  >([]);\r\n  const [searchText, setSearchText] = useState<string>(\"\");\r\n  const [enableFilter, setenableFilter] = useState<Boolean>(false);\r\n  const [covidFilter, setCovidFilter] = useState<Boolean>(false);\r\n\r\n  useEffect(() => {\r\n    setFilteredRestaurants(restaurants);\r\n  }, [restaurants]);\r\n\r\n  useEffect(() => {\r\n    navigator.geolocation.getCurrentPosition(({ coords }) => {\r\n      axios\r\n        .get(`/api/restaurant?lat=${coords.latitude}&lng=${coords.longitude}`, { withCredentials: true })\r\n        .then(({data}) => {\r\n          console.log(data) \r\n          setRestaurants(data);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    });\r\n  }, []);\r\n\r\n  const updateSearchText = (evt: any) => {\r\n    const text = evt.target.value;\r\n    setSearchText(text);\r\n    makeSearch();\r\n  };\r\n\r\n  const makeSearch = () => {\r\n    let filteredRestaurant = restaurants.filter(\r\n      (restaurant: Restaurant) =>\r\n        restaurant.name.includes(searchText) ||\r\n        restaurant.tags.some(t => t.includes(searchText))\r\n    )\r\n    if (covidFilter) {\r\n      filteredRestaurant = filteredRestaurant.filter(\r\n        (restaurant: Restaurant) => restaurant.currentAvailableSeats > 3/10 * restaurant.maxSeatCount\r\n      )\r\n    }\r\n    setFilteredRestaurants(filteredRestaurant);\r\n  }; \r\n\r\n  useEffect(() => {\r\n    makeSearch();\r\n  }, [makeSearch, covidFilter]);\r\n\r\n  const sortBy = ({ value }) => {\r\n    let orderedRestaurant = [...restaurants];\r\n    switch (value) {\r\n      case \"distance\":\r\n        orderedRestaurant.sort((r1, r2) => { \r\n          if (!r1.distance) return -1;\r\n          if (!r2.distance) return -1;\r\n          return r1.distance > r2.distance ? 1 : -1 \r\n        })\r\n        break;\r\n      case \"rating\":\r\n        orderedRestaurant.sort((r1, r2) => r1.rating < r2.rating ? 1 : -1)\r\n        break;\r\n      case \"price\":\r\n        orderedRestaurant.sort((r1, r2) => r1.priceRange > r2.priceRange ? 1 : -1)\r\n        break;\r\n      default:\r\n        throw new Error(\"invalid sort by value\")\r\n    }\r\n    setRestaurants(orderedRestaurant);\r\n  }\r\n\r\n  return (\r\n    <div className=\"home-page\">\r\n      <Paper className=\"home-page_search\">\r\n        <InputBase onChange={updateSearchText} fullWidth />\r\n        <div className=\"w-2\" onClick={makeSearch}>\r\n          <SearchOutlined />\r\n        </div>\r\n        <div className=\"w-2\" onClick={() => setenableFilter(prev => prev ? false : true)}>\r\n          <MenuOutlined />\r\n        </div>\r\n      </Paper>\r\n      {enableFilter && <Paper className=\"home-page_filter\">\r\n       <Dropdown \r\n        options={[\"distance\", \"rating\", \"price\"]}  \r\n        value={\"distance\"}  \r\n        onChange={sortBy}\r\n       />\r\n       <Switch color=\"success\" onChange={()=>{setCovidFilter(prev => prev ? false : true)}} > \r\n        Covid \r\n       </Switch>\r\n      </Paper>}\r\n      <RestaurantCardList restaurants={filteredRestaurants} />\r\n    </div>\r\n  );\r\n}\r\n","import UserReservations from './UserReservations';\r\n\r\nexport default UserReservations;","import axios from \"axios\";\r\nimport React, { useContext, useEffect, useState } from \"react\";\r\nimport { AuthContext } from \"../../utils/AuthContext\";\r\n\r\nconst UserReservations = () => {\r\n  const [authContext, setAuthContext] = useContext(AuthContext);\r\n  const userId = authContext.uid;\r\n  const { phoneNumber } = authContext;\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(\"/api/reservation\", { withCredentials: true })\r\n      .then((res) => {\r\n        console.log(res.data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err.response.data);\r\n      });\r\n  }, []);\r\n  return <>user reservations</>;\r\n};\r\n\r\nexport default UserReservations;\r\n","import React from \"react\";\r\nimport { useFormik } from \"formik\";\r\nimport {\r\n  Button,\r\n  Container,\r\n  Dialog,\r\n  TextField,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport axios from \"axios\";\r\n\r\nimport Rating from \"@material-ui/lab/Rating\";\r\n\r\ninterface IAddReviewForm {\r\n  open: boolean;\r\n  onClose: any;\r\n  restaurantName?: string;\r\n}\r\nexport default function AddReviewForm(props: IAddReviewForm) {\r\n  const formik = useFormik({\r\n    onSubmit: () => {\r\n      let fileToBlob = async (file) =>\r\n        new Blob([new Uint8Array(await file.arrayBuffer())], {\r\n          type: file.type,\r\n        });\r\n\r\n      console.log(formik.values);\r\n      const formData = new FormData();\r\n      const file: any = formik.values.file;\r\n      fileToBlob(file)\r\n        .then((blob) => { \r\n          formData.append(\"description\", formik.values.description);\r\n          formData.append(\"rating\", String(formik.values.rating));\r\n          formData.append(\"streamfile\", blob);\r\n          if (props.restaurantName)\r\n            formData.append(\"restaurantName\", props.restaurantName);\r\n          axios\r\n            .post(\"/api/review\", formData, {\r\n              headers: {\r\n                \"Content-Type\": \"multipart/form-data\",\r\n              },\r\n              withCredentials: true\r\n            })\r\n            .then((res) => {\r\n              console.log(res.data);\r\n            })\r\n            .catch((err) => {\r\n              console.log(err.message);\r\n            });\r\n        })\r\n        .catch((err) => {\r\n          axios\r\n            .post(\"/api/review\", {\r\n              description: formik.values.description,\r\n              stars: formik.values.rating,\r\n              restaurantName: props.restaurantName\r\n            }, { withCredentials: true })\r\n            .catch((err) => {\r\n              console.log(err.message);\r\n            });\r\n        });\r\n    },\r\n    initialValues: { description: \"\", rating: 0, file: null },\r\n  });\r\n  return (\r\n    <Dialog open={props.open} onClose={props.onClose}>\r\n      <Container>\r\n        <Typography variant=\"h4\">Review</Typography>\r\n        <form className=\"flex-column\" onSubmit={formik.handleSubmit}>\r\n          <TextField\r\n            name=\"description\"\r\n            label=\"description\"\r\n            className=\"m-2\"\r\n            value={formik.values.description}\r\n            onChange={formik.handleChange}\r\n          />\r\n          <Button variant=\"contained\" component=\"label\" className=\"m-2\">\r\n            Upload Image\r\n            <input\r\n              type=\"file\"\r\n              hidden\r\n              onChange={(event: any) => {\r\n                if (event?.currentTarget?.files[0]) {\r\n                  formik.setFieldValue(\"file\", event.currentTarget.files[0]);\r\n                }\r\n              }}\r\n              className=\"form-control\"\r\n            />\r\n          </Button>\r\n          <Rating\r\n            className=\"m-2\"\r\n            name=\"half-rating-read\"\r\n            max={5}\r\n            defaultValue={0}\r\n            precision={0.5}\r\n            onChange={(event: any) => {\r\n              formik.setFieldValue(\"rating\", event.target.value);\r\n            }}\r\n          />\r\n          <Button type={\"submit\"} className=\"m-2\">\r\n            <Typography>Submit</Typography>\r\n          </Button>\r\n        </form>\r\n      </Container>\r\n    </Dialog>\r\n  );\r\n}\r\n","import { DialogProps, Typography } from \"@material-ui/core\";\r\nimport { DialogTitle } from \"@material-ui/core\";\r\nimport { Dialog } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport MenuItem from \"../../../models/MenuItem\";\r\nimport GooglePayButton from \"@google-pay/button-react\";\r\n\r\ninterface ItemQuantity {\r\n  item: MenuItem;\r\n  quantity: number;\r\n}\r\ninterface PaymentDialogProps {\r\n  dialogProps: DialogProps;\r\n  order: Array<ItemQuantity>;\r\n}\r\nconst PaymentDialog = (props: PaymentDialogProps) => {\r\n  const calculateTotal = (order: Array<ItemQuantity>) => {\r\n    let total = 0;\r\n    order.forEach(({ item, quantity }) => {\r\n      total += item.price * quantity;\r\n    });\r\n    return total;\r\n  };\r\n  return (\r\n    <Dialog {...props.dialogProps}>\r\n      <DialogTitle>Pay for your order</DialogTitle>\r\n      <Typography>{`You have to pay ${calculateTotal(\r\n        props.order\r\n      )}$`}</Typography>\r\n      <GooglePayButton\r\n        environment=\"TEST\"\r\n        paymentRequest={{\r\n          apiVersion: 2,\r\n          apiVersionMinor: 0,\r\n          allowedPaymentMethods: [\r\n            {\r\n              type: \"CARD\",\r\n              parameters: {\r\n                allowedAuthMethods: [\"PAN_ONLY\", \"CRYPTOGRAM_3DS\"],\r\n                allowedCardNetworks: [\"MASTERCARD\", \"VISA\"],\r\n              },\r\n              tokenizationSpecification: {\r\n                type: \"PAYMENT_GATEWAY\",\r\n                parameters: {\r\n                  gateway: \"example\",\r\n                },\r\n              },\r\n            },\r\n          ],\r\n          merchantInfo: {\r\n            merchantId: \"12345678901234567890\",\r\n            merchantName: \"Demo Merchant\",\r\n          },\r\n          transactionInfo: {\r\n            totalPriceStatus: \"FINAL\",\r\n            totalPriceLabel: \"Total\",\r\n            totalPrice: `${calculateTotal(props.order)}`,\r\n            currencyCode: \"USD\",\r\n            countryCode: \"US\",\r\n          },\r\n        }}\r\n        onLoadPaymentData={(paymentRequest) => {\r\n          console.log(\"load payment data\", paymentRequest);\r\n        }}\r\n      />\r\n    </Dialog>\r\n  );\r\n};\r\nexport default PaymentDialog;\r\n","import RestaurantHome from \"./RestaurantHome\";\r\n\r\nexport default RestaurantHome;\r\n\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { Paper, Typography, Button, Card } from \"@material-ui/core\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport AddCircleIcon from \"@material-ui/icons/AddCircle\";\r\nimport RemoveIcon from \"@material-ui/icons/Remove\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport AddReviewForm from \"../../components/forms/addReviewForm\";\r\nimport MenuItem from \"../../models/MenuItem\";\r\n\r\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\r\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\n\r\nimport axios from \"axios\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { AddCircle, RemoveCircle } from \"@material-ui/icons\";\r\nimport { Container } from \"@material-ui/core\";\r\nimport { Accordion } from \"@material-ui/core\";\r\nimport PaymentDialog from \"./components/PaymentDialog\";\r\nimport { AuthContext } from \"../../utils/AuthContext\";\r\n\r\ninterface ItemQuantity {\r\n  item: MenuItem;\r\n  quantity: number;\r\n}\r\nexport default function RestaurantHome() {\r\n  let location = useLocation();\r\n  const [authContext, ] = useContext(AuthContext);\r\n  const [restaurant, setRestaurant] = useState<any>();\r\n  const [counter, setCounter] = useState<number>(1);\r\n  const [open, setOpen] = useState<boolean>(false);\r\n  const [openPaymentDialog, setOpenPaymentDialog] = useState<boolean>(false);\r\n  const [reviews, setReviews] = useState<Array<any>>([]);\r\n  const [order, setOrder] = useState<Array<ItemQuantity>>([]);\r\n  const [dateTime, setDateTime] = useState(\"2017-05-24\");\r\n\r\n  useEffect(() => {\r\n    console.log(restaurant);\r\n    if (restaurant?.name)\r\n      axios\r\n        .get(\"/api/review\", {\r\n          params: {\r\n            restaurantName: restaurant.name,\r\n          },\r\n          withCredentials: true \r\n        })\r\n        .then((res) => {\r\n          console.log(res);\r\n          const data = res.data;\r\n          setReviews(data.reviews);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n  }, [restaurant]);\r\n  const handleMakeReservation = () => {\r\n    console.log(order);\r\n    let paymentRequired = false;\r\n    order.forEach(({ item, quantity }, idx) => {\r\n      if (quantity !== 0) {\r\n        paymentRequired = true;\r\n      }\r\n    });\r\n    if (paymentRequired) {\r\n      handleOpenPaymentPopUpDialog();\r\n      return;\r\n    }\r\n    axios\r\n      .post(`/api/restaurant/${restaurant.name}/reservation`, {\r\n        reservationDate: dateTime,\r\n        seatCount: counter,\r\n        userPhone: authContext.phoneNumber,\r\n      }, { withCredentials: true })\r\n      .then((res) => {\r\n        alert(\"created reservation successfuly\");\r\n      })\r\n      .catch((err) => {\r\n        alert(JSON.stringify(err.response.data));\r\n      });\r\n  };\r\n  const handleOpenPaymentPopUpDialog = () => {\r\n    setOpenPaymentDialog(true);\r\n  };\r\n  const openReviewDialog = () => {\r\n    setOpen(true);\r\n  };\r\n  const closeReviewDialog = () => {\r\n    setOpen(false);\r\n  };\r\n  useEffect(() => {\r\n    if (location.state) {\r\n      setRestaurant(location.state);\r\n      const restaurant: any = location.state;\r\n      setOrder(\r\n        restaurant.menu.map((menuItem: MenuItem) => ({\r\n          item: menuItem,\r\n          quantity: 0,\r\n        }))\r\n      );\r\n    } else {\r\n      //todo fetch\r\n    }\r\n  }, [location]);\r\n\r\n  const increase = () => {\r\n    setCounter((prev) => ++prev);\r\n  };\r\n  const decrease = () => {\r\n    setCounter((prev) => --prev);\r\n  };\r\n  if (!restaurant) return null;\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n        <div>\r\n          <img\r\n            alt=\"company background\"\r\n            src={restaurant.backgroundHref}\r\n            style={{ width: \"100%\", maxHeight: \"10rem\" }}\r\n          />\r\n          <img\r\n            alt=\"company logo\"\r\n            src={restaurant.logoHref}\r\n            style={{\r\n              position: \"relative\",\r\n              left: \"50%\",\r\n              transform: \"translate(-50%, -50%)\",\r\n              borderRadius: \"50%\",\r\n              borderWidth: \"1rem\",\r\n              borderStyle: \"solid\",\r\n              borderColor: \"#DDDDDD\",\r\n            }}\r\n          />\r\n        </div>\r\n        <Grid container spacing={3} style={{ marginTop: \"-5rem\" }}>\r\n          <Grid item xs={12}>\r\n            <Paper>\r\n              <Container>\r\n                <Typography variant=\"h5\">{restaurant.name}</Typography>\r\n                <Typography variant=\"body1\">\r\n                  {restaurant.description}\r\n                </Typography>\r\n              </Container>\r\n            </Paper>\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <Paper>\r\n              <Container>\r\n                <Typography variant={\"h5\"}>Maybe preorder something</Typography>\r\n                {restaurant.menu.map((menuItem: MenuItem, idx) => {\r\n                  const handleAdd = () => {\r\n                    setOrder((prev) =>\r\n                      prev.map(({ item, quantity }, idx2) => {\r\n                        if (item.name === menuItem.name)\r\n                          return { item, quantity: quantity + 1 };\r\n                        return { item, quantity };\r\n                      })\r\n                    );\r\n                  };\r\n                  const handlerRemove = () => {\r\n                    setOrder((prev) =>\r\n                      prev.map(({ item, quantity }, idx2) => {\r\n                        if (item.name === menuItem.name && quantity >= 1)\r\n                          return { item, quantity: quantity - 1 };\r\n                        return { item, quantity };\r\n                      })\r\n                    );\r\n                  };\r\n                  return (\r\n                    <div>\r\n                      <Typography\r\n                        variant={\"h5\"}\r\n                      >{`${menuItem.name} ${menuItem.price}$`}</Typography>\r\n                      <div style={{ display: \"flex\", alignItems: \"center\" }}>\r\n                        <Button onClick={handlerRemove}>\r\n                          <RemoveCircle />\r\n                        </Button>\r\n                        <Typography>{order[idx].quantity}</Typography>\r\n                        <Button onClick={handleAdd}>\r\n                          <AddCircle />\r\n                        </Button>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </Container>\r\n            </Paper>\r\n          </Grid>\r\n\r\n          <Grid item xs={12}>\r\n            <Paper>\r\n              <Container>\r\n                <Typography variant=\"h5\">How many people?</Typography>\r\n                <div style={{ display: \"flex\" }}>\r\n                  <Button onClick={decrease}>\r\n                    <RemoveIcon fontSize=\"large\" />\r\n                  </Button>\r\n                  <Typography variant=\"h4\"> {counter} </Typography>\r\n                  <Button onClick={increase}>\r\n                    <AddCircleIcon color=\"secondary\" fontSize=\"large\" />\r\n                  </Button>\r\n                </div>\r\n              </Container>\r\n            </Paper>\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <Paper>\r\n              <Container>\r\n                <Typography variant=\"h4\">When?</Typography>\r\n                <TextField\r\n                  id=\"date\"\r\n                  label=\"Date\"\r\n                  type=\"date\"\r\n                  value={dateTime}\r\n                  onChange={(event) => {\r\n                    setDateTime(event.target.value);\r\n                  }}\r\n                  InputLabelProps={{\r\n                    shrink: true,\r\n                  }}\r\n                />\r\n              </Container>\r\n            </Paper>\r\n          </Grid>\r\n        </Grid>\r\n\r\n        <div className=\"m-t-2\">\r\n          <Button\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={handleMakeReservation}\r\n          >\r\n            <Typography>Make a reservation</Typography>\r\n          </Button>\r\n        </div>\r\n        <div className=\"m-t-2\">\r\n          <Button\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={openReviewDialog}\r\n          >\r\n            <Typography>add review</Typography>\r\n          </Button>\r\n        </div>\r\n        <Accordion>\r\n          <AccordionSummary\r\n            expandIcon={<ExpandMoreIcon />}\r\n            aria-controls=\"panel2a-content\"\r\n            id=\"panel2a-header\"\r\n          >\r\n            <Typography variant=\"h5\">Reviews</Typography>\r\n          </AccordionSummary>\r\n          <AccordionDetails>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                flexDirection: \"column\",\r\n                gap: \"1rem\",\r\n              }}\r\n            >\r\n              {reviews.map((val) => (\r\n                <div style={{ width: \"100%\" }}>\r\n                  <Card>\r\n                    <div>{val.description}</div>\r\n                    <div>score:{val.rating}</div>\r\n                    <img src={val.imageHref} alt=\"review img\" />\r\n                  </Card>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </AccordionDetails>\r\n        </Accordion>\r\n      </div>\r\n      <AddReviewForm\r\n        restaurantName={restaurant.name}\r\n        open={open}\r\n        onClose={closeReviewDialog}\r\n      />\r\n      <PaymentDialog\r\n        order={order}\r\n        dialogProps={{\r\n          open: openPaymentDialog,\r\n          onClose: () => {\r\n            setOpenPaymentDialog(false);\r\n          },\r\n        }}\r\n      />\r\n    </>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { useFormik } from \"formik\";\r\nimport Restaurant from \"../../models/Restaurant\";\r\nimport {\r\n  Container,\r\n  Typography,\r\n  Paper,\r\n  Grid,\r\n  Button,\r\n  TextField,\r\n} from \"@material-ui/core\";\r\nimport { AddOutlined, RemoveCircle } from \"@material-ui/icons\";\r\nimport MenuItem from \"../../models/MenuItem\";\r\nimport axios from \"axios\";\r\n\r\nconst RestaurantDetailsControlCard = (props: { restaurant: Restaurant }) => {\r\n  const [restaurant, setRestaurant] = useState(props.restaurant);\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      name: restaurant.name,\r\n      description: restaurant.description,\r\n    },\r\n    onSubmit: () => {},\r\n  });\r\n\r\n  const handleAddNewMenuItem = () => {\r\n    setRestaurant((prev: Restaurant) => {\r\n      const newMenuItem: MenuItem = {\r\n        name: \"\",\r\n        quantity: 0,\r\n        price: 0,\r\n      };\r\n      return {\r\n        ...prev,\r\n        menu: [...prev.menu, newMenuItem],\r\n      };\r\n    });\r\n  };\r\n  const handleSaveChanges = () => {\r\n    const cleanRestaurant: any = { ...restaurant };\r\n    delete cleanRestaurant._id;\r\n    delete cleanRestaurant.ownerId;\r\n    delete cleanRestaurant.distance;\r\n    delete cleanRestaurant.__v;\r\n    cleanRestaurant.menu = cleanRestaurant.menu.map((menuItem) => ({\r\n      ...menuItem,\r\n      _id: undefined,\r\n    }));\r\n\r\n    axios\r\n      .put(`/api/restaurant/${restaurant.name}`, {\r\n        ...cleanRestaurant,\r\n        ...formik.values,\r\n      }, { withCredentials: true })\r\n      .then((res) => {\r\n        console.log(res);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        alert(err);\r\n      });\r\n  };\r\n  return (\r\n    <Grid item xs={12}>\r\n      <Paper>\r\n        <Container>\r\n          <div style={{ display: \"flex\", flexDirection: \"column\" }}>\r\n            <TextField\r\n              label=\"name\"\r\n              name=\"name\"\r\n              value={formik.values.name}\r\n              onChange={formik.handleChange}\r\n            />\r\n            <TextField\r\n              label=\"description\"\r\n              name=\"description\"\r\n              value={formik.values.description}\r\n              onChange={formik.handleChange}\r\n            />\r\n          </div>\r\n\r\n          <Typography variant=\"h4\">{\"Menu\"}</Typography>\r\n          <Grid container spacing={3}>\r\n            {restaurant.menu.map((menuItem, idx) => {\r\n              return (\r\n                <Grid item xs={12} key={idx}>\r\n                  <Paper>\r\n                    <TextField\r\n                      label=\"Name\"\r\n                      value={menuItem.name}\r\n                      onChange={(event) => {\r\n                        const menu = [...restaurant.menu];\r\n                        menu[idx].name = event.target.value;\r\n                        setRestaurant((prev) => ({ ...prev, menu }));\r\n                      }}\r\n                    ></TextField>\r\n                    <TextField\r\n                      label=\"Quantity\"\r\n                      value={menuItem.quantity}\r\n                      onChange={(event) => {\r\n                        const menu = [...restaurant.menu];\r\n                        menu[idx].quantity = Number(event.target.value);\r\n                        setRestaurant((prev) => ({ ...prev, menu }));\r\n                      }}\r\n                    ></TextField>\r\n                    <TextField\r\n                      label=\"Price\"\r\n                      value={menuItem.price}\r\n                      onChange={(event) => {\r\n                        const menu = [...restaurant.menu];\r\n                        menu[idx].price = Number(event.target.value);\r\n                        setRestaurant((prev) => ({ ...prev, menu }));\r\n                      }}\r\n                    ></TextField>\r\n                    <Button\r\n                      onClick={() => {\r\n                        const menu = restaurant.menu.filter(\r\n                          (val, idx2) => idx2 !== idx\r\n                        );\r\n                        setRestaurant((prev) => ({ ...prev, menu }));\r\n                      }}\r\n                    >\r\n                      <RemoveCircle />\r\n                    </Button>\r\n                  </Paper>\r\n                </Grid>\r\n              );\r\n            })}\r\n            <Grid item xs={12}>\r\n              <Button onClick={handleAddNewMenuItem}>\r\n                add item <AddOutlined />\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n        </Container>\r\n        <Button onClick={handleSaveChanges}>Save changes</Button>\r\n      </Paper>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default RestaurantDetailsControlCard;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Paper, Grid, Typography, Button, Container } from \"@material-ui/core\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport Reservation from \"../../models/Reservation\";\r\nimport axios from \"axios\";\r\nimport Restaurant from \"../../models/Restaurant\";\r\n\r\ninterface IProps {\r\n  restaurantName: string;\r\n}\r\n\r\nconst RestaurantReservations = (props: { restaurant: Restaurant }) => {\r\n  const { restaurant } = props;\r\n  const [reservations, setReservations] = useState<Array<Reservation>>([]);\r\n\r\n  const getAndSetReservations = () => {\r\n    axios\r\n      .get(`/api/reservation`, { params: { restaurantName: restaurant.name }, withCredentials: true })\r\n      .then((res) => {\r\n        console.log(res);\r\n        setReservations(res.data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n  useEffect(() => {\r\n    getAndSetReservations();\r\n  }, []);\r\n  const acceptReservation = (reservation: Reservation) => {\r\n    axios\r\n      .post(`/api/reservation/${reservation._id}`, { status: \"ACCEPTED\" }, { withCredentials: true })\r\n      .then((res) => {\r\n        getAndSetReservations();\r\n      });\r\n  };\r\n  const declineReservation = (reservation: Reservation) => {\r\n    axios\r\n      .post(`/api/reservation/${reservation._id}`, { status: \"DECLINED\" }, { withCredentials: true })\r\n      .then((res) => {\r\n        getAndSetReservations();\r\n      });\r\n  };\r\n  return (\r\n    <div>\r\n      {(reservations.length &&\r\n        reservations.map((val: Reservation, id: number) => (\r\n          <Paper>\r\n            <Container>\r\n              <Typography>restaurant: {val.restaurantName}</Typography>\r\n              <Typography>phone: {val.userPhone}</Typography>\r\n              <Typography>status: {val.status}</Typography>\r\n              <Typography>\r\n                date: {val.reservationDate.toString().split(\"T\")[0]}\r\n              </Typography>\r\n              <Typography>\r\n                time:{\" \"}\r\n                {val.reservationDate.toString().split(\"T\")[1].split(\".\")[0]}\r\n              </Typography>\r\n              <Typography>number of seats:{val.seatCount}</Typography>\r\n              <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\r\n                <Button\r\n                  onClick={() => {\r\n                    declineReservation(val);\r\n                  }}\r\n                >\r\n                  Decline\r\n                </Button>\r\n                <Button\r\n                  onClick={() => {\r\n                    acceptReservation(val);\r\n                  }}\r\n                >\r\n                  Accept\r\n                </Button>\r\n              </div>\r\n            </Container>\r\n          </Paper>\r\n        ))) || (\r\n        <Paper>\r\n          <Typography>\r\n            You don't have any reservations maybe hire a marketing guy\r\n          </Typography>\r\n        </Paper>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RestaurantReservations;\r\n","import RestaurantDashboard from \"./RestaurantDashboard\";\r\n\r\nexport default RestaurantDashboard;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { Container, Typography, Paper, Grid, Button } from \"@material-ui/core\";\r\nimport { AuthContext } from \"../../utils/AuthContext\";\r\nimport axios from \"axios\";\r\nimport { AddOutlined } from \"@material-ui/icons\";\r\nimport Restaurant from \"../../models/Restaurant\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport RestaurantDetailsControlCard from \"./RestaurantDetailsControlCard\";\r\nimport RestaurantReservationsTable from \"./RestaurantReservationsTable\";\r\n\r\nconst mock = {\r\n  restaurantName: \"Mamma Mia\",\r\n  menuItems: [],\r\n};\r\nconst RestaurantDashboard = () => {\r\n  const restaurantName = mock.restaurantName;\r\n  const menuItems = mock.menuItems;\r\n  const [authContext, setAuthContext] = useContext(AuthContext);\r\n  const [restaurants, setRestaurants] = useState<Array<Restaurant>>([]);\r\n  const [\r\n    selectedRestaurant,\r\n    setSelectedRestaurant,\r\n  ] = useState<Restaurant | null>(null);\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(\"/api/restaurant\", { params: { ownerId: authContext.uid }, withCredentials: true })\r\n      .then((val) => {\r\n        if (val.status !== 200) throw new Error(val.data);\r\n        setRestaurants(val.data);\r\n        setSelectedRestaurant(val.data[0]);\r\n      })\r\n      .catch((err) => {\r\n        alert(err);\r\n      });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    console.log(\"selectedRestaurant=>\", selectedRestaurant);\r\n  }, [selectedRestaurant]);\r\n\r\n  const onSelectedRestaurantChange = (event) => {\r\n    const restaurantName = event.target.value;\r\n    const _selectedRestaurant = restaurants.find(\r\n      (restaurant) => restaurant.name === restaurantName\r\n    );\r\n    console.log(_selectedRestaurant);\r\n    if (_selectedRestaurant) setSelectedRestaurant({ ..._selectedRestaurant });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Container>\r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12}>\r\n            <Typography variant=\"h4\">Select a restaurant</Typography>\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            {selectedRestaurant && (\r\n              <Select\r\n                fullWidth\r\n                value={selectedRestaurant.name}\r\n                onChange={onSelectedRestaurantChange}\r\n                style={{ marginTop: \"1rem\", marginBottom: \"1rem\" }}\r\n              >\r\n                {restaurants.map((restaurant, idx) => (\r\n                  <MenuItem key={idx} value={restaurant.name}>\r\n                    {restaurant.name}\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n            )}\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <Typography variant=\"h4\">Restaurant Details</Typography>\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            {selectedRestaurant && (\r\n              <RestaurantDetailsControlCard restaurant={selectedRestaurant} />\r\n            )}\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <Typography variant={\"h4\"}>Reservatations</Typography>\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            {selectedRestaurant && (\r\n              <RestaurantReservationsTable restaurant={selectedRestaurant} />\r\n            )}\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <Button>\r\n              <Typography> add a restaurnat</Typography>\r\n              <AddOutlined />\r\n            </Button>\r\n          </Grid>\r\n        </Grid>\r\n      </Container>\r\n    </div>\r\n  );\r\n};\r\nexport default RestaurantDashboard;\r\n","import \"./assets/index.scss\";\r\nimport \"./assets/atomic.scss\";\r\nimport { createMuiTheme, ThemeProvider } from \"@material-ui/core\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\n\r\nimport PrivateRoute from \"./utils/PrivateRoute\";\r\nimport Authentication from \"./screens/Authentication\";\r\nimport Topnav from \"./components/Topnav\";\r\nimport Home from \"./screens/Home\";\r\nimport UserReservations from \"./screens/UserReservations\";\r\nimport RestaurantHome from \"./screens/RestaurantHome\";\r\nimport RestaurantDashboard from \"./screens/RestaurantDashboard\";\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      main: \"#3e605c\",\r\n    },\r\n    secondary: {\r\n      main: \"#ff8c0a\",\r\n    },\r\n  },\r\n});\r\n\r\nfunction App() {\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <Router>\r\n        <Switch>\r\n          <Route exact path=\"/login\">\r\n            <Authentication />\r\n          </Route>\r\n          <Route>\r\n            <Topnav />\r\n            <PrivateRoute exact path=\"/\" component={Home} />\r\n            <PrivateRoute\r\n              exact\r\n              path=\"/userReservations\"\r\n              component={UserReservations}\r\n            />\r\n            <PrivateRoute exact path=\"/restaurant\" component={RestaurantHome} />\r\n            <PrivateRoute\r\n              exact\r\n              path=\"/reservations\"\r\n              component={UserReservations}\r\n            />\r\n            <PrivateRoute\r\n              exact\r\n              path=\"/dashboard\"\r\n              component={RestaurantDashboard}\r\n            />\r\n          </Route>\r\n        </Switch>\r\n      </Router>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from \"web-vitals\";\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport { AuthContextWrapper } from \"./utils/AuthContext\";\r\nimport reportWebVitals from \"./utils/reportWebVitals\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <AuthContextWrapper>\r\n      <App />\r\n    </AuthContextWrapper>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}