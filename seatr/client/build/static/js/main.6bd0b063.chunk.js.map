{"version":3,"sources":["utils/AuthContext.tsx","utils/PrivateRoute.tsx","components/common/Logo.tsx","screens/Authentication/Home.tsx","utils/firebaseConfig.ts","screens/Authentication/Login.tsx","screens/Authentication/TellUsMore.tsx","screens/Authentication/index.tsx","components/Topnav/index.tsx","components/Topnav/Topnav.tsx","screens/Home/components/RestaurantCard/Logo.tsx","screens/Home/components/RestaurantCard/Background.tsx","screens/Home/components/RestaurantCard/Description.tsx","screens/Home/components/RestaurantCard/Footer.tsx","screens/Home/components/RestaurantCard/index.tsx","screens/Home/components/RestaurantCard/RestaurantCard.tsx","screens/Home/components/RestaurantCardList.tsx","screens/Home/index.tsx","screens/Home/Home.tsx","components/forms/addReviewForm.tsx","screens/RestaurantHome/components/MenuItemComponent.tsx","screens/RestaurantHome/components/PaymentDialog.tsx","screens/RestaurantHome/components/RestaurantReviews.tsx","screens/RestaurantHome/index.tsx","screens/RestaurantHome/RestaurantHome.tsx","screens/RestaurantDashboard/RestaurantDetailsControlCard.tsx","screens/RestaurantDashboard/RestaurantReservationsTable.tsx","screens/RestaurantDashboard/index.tsx","screens/RestaurantDashboard/RestaurantDashboard.tsx","screens/UserReservation/index.tsx","screens/UserReservation/UserReservation.tsx","App.tsx","registerServiceWorker.js","utils/reportWebVitals.ts","index.tsx"],"names":["AuthContext","React","createContext","AuthContextWrapper","children","useCookies","cookies","setCookie","useState","user","setUser","useEffect","Provider","value","PrivateRoute","Component","component","rest","location","useLocation","useContext","console","log","render","props","email","to","pathname","state","prevPath","Logo","className","alt","src","Home","setGoToLogin","goToLogin","Container","Card","CardActionArea","onClick","CardContent","Typography","config","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","Login","firebase","apps","length","app","initializeApp","firebaseConfig","uiConfig","callbacks","signInSuccessWithAuthResult","authResult","axios","get","uid","withCredentials","then","data","isNewUser","catch","phoneNumber","uiShown","document","querySelectorAll","style","paddingTop","textAlign","backgroundColor","classList","remove","display","signInOptions","provider","auth","PhoneAuthProvider","PROVIDER_ID","defaultCountry","firebaseui","AuthUI","getInstance","start","id","noErros","name","surname","TellUsMore","selectedGender","setSelectedGender","errors","setErrors","handleClick","evt","newSelectedGender","currentTarget","textContent","getClassForGender","genderName","formik","useFormik","initialValues","onSubmit","values","newErrors","hasErrors","userInfo","gender","post","variant","handleSubmit","TextField","label","onChange","handleChange","error","align","Button","type","Authentication","Topnav","AppBar","position","color","logoHref","Background","backgroundHref","Description","description","substring","Footer","priceRange","starRating","distance","Paper","fontWeight","Rating","icon","max","defaultValue","precision","readOnly","RestaurantCard","menu","rating","history","useHistory","goToDetails","push","search","restaurants","map","restaurant","uuidv4","setRestaurants","filteredRestaurants","setFilteredRestaurants","searchText","setSearchText","enableFilter","setenableFilter","covidFilter","setCovidFilter","navigator","geolocation","getCurrentPosition","coords","latitude","longitude","err","makeSearch","filteredRestaurant","filter","includes","tags","some","t","currentAvailableSeats","maxSeatCount","InputBase","text","target","fullWidth","SearchOutlined","prev","MenuOutlined","options","orderedRestaurant","sort","r1","r2","Error","AddReviewForm","authContext","fileToBlob","file","a","Blob","Uint8Array","arrayBuffer","formData","FormData","blob","append","String","restaurantName","headers","message","stars","personName","finally","onClose","Dialog","open","hidden","event","files","setFieldValue","MenuItemComponent","menuItem","setOrder","item","price","quantity","Math","RemoveCircle","PaymentDialog","calculateTotal","order","total","forEach","dialogProps","DialogTitle","environment","paymentRequest","apiVersion","apiVersionMinor","allowedPaymentMethods","parameters","allowedAuthMethods","allowedCardNetworks","tokenizationSpecification","gateway","merchantInfo","merchantId","merchantName","transactionInfo","totalPriceStatus","totalPriceLabel","totalPrice","currencyCode","countryCode","onLoadPaymentData","finishMakeReservation","RestaurantReviews","reviews","setReviews","params","init","h","imageHref","RestaurantHome","setRestaurant","counter","setCounter","openReviewDialog","setOpenReviewDialog","openPaymentDialog","setOpenPaymentDialog","dateTime","setDateTime","fcmToken","setFcmToken","_restaurant","split","messaging","requestPermission","getToken","vapidKey","currentToken","alert","reservationDate","seatCount","userPhone","userGender","userName","o","join","JSON","stringify","response","Accordion","AccordionSummary","expandIcon","aria-controls","AccordionDetails","RestaurantDetailsControlCard","Grid","xs","flexDirection","gap","marginBottom","padding","container","spacing","idx","Number","val","idx2","AddOutlined","cleanRestaurant","_id","ownerId","__v","undefined","starCount","starSum","putParams","put","res","RestaurantReservations","reservations","setReservations","getAndSetReservations","reverse","Promise","setTimeout","width","toString","status","reservation","RestaurantDashboard","selectedRestaurant","setSelectedRestaurant","Select","_selectedRestaurant","find","marginTop","MenuItem","RestaurantReservationsTable","UserReservation","setMessaging","phone","onMessage","payload","getStatus","CircularProgress","theme","createMuiTheme","palette","primary","main","secondary","App","ThemeProvider","exact","path","isLocalhost","Boolean","window","hostname","match","registerValidSW","swUrl","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById","URL","origin","addEventListener","fetch","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.6bd0b063.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useCookies } from \"react-cookie\";\r\n\r\nconst AuthContext = React.createContext<[any, Function]>([{}, () => {}]);\r\n\r\nconst AuthContextWrapper = ({ children }: any) => {\r\n  const [cookies, setCookie] = useCookies([\"user\"]);\r\n  const [user, setUser] = useState(cookies.user);\r\n\r\n  useEffect(() => {\r\n    setCookie(\"user\", user);\r\n  }, [user]);\r\n\r\n  return (\r\n    <AuthContext.Provider value={[user, setUser]}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport { AuthContextWrapper, AuthContext };\r\n","//Protected route wrapper\r\n//inspired by:\r\n// https://stackoverflow.com/questions/47476186/when-user-is-not-logged-in-redirect-to-login-reactjs\r\nimport React from \"react\";\r\nimport { useContext } from \"react\";\r\nimport { Redirect, Route, useLocation } from \"react-router-dom\";\r\nimport { AuthContext } from \"./AuthContext\";\r\n\r\nexport default function PrivateRoute({ component: Component, ...rest }: any) {\r\n  let location = useLocation();\r\n  const [user] = useContext(AuthContext);\r\n  console.log(\"authentification details:\", user);\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) => {\r\n        \r\n        if (!user || user === \"undefined\") {\r\n          return <Redirect to={{ pathname: \"/login\", state: { prevPath: location.pathname } }} />\r\n        }\r\n\r\n        if (!user.email) {\r\n          return <Redirect to={{ pathname: \"/info\" }} />\r\n        }\r\n\r\n        return <Component {...props} />\r\n      }}\r\n    />\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Logo() {\r\n  return <img className=\"logo pointer\" alt=\"company logo\" src={\"logo.svg\"} />;\r\n}\r\n","import React from \"react\";\r\nimport {\r\n  Card,\r\n  Container,\r\n  CardActionArea,\r\n  CardContent,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport Logo from \"../../components/common/Logo\";\r\n\r\ninterface IProps {\r\n  setGoToLogin: Function;\r\n}\r\n\r\nexport default function Home({ setGoToLogin }: IProps) {\r\n  const goToLogin = () => {\r\n    setGoToLogin(true);\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <div className=\"center-children p-t-5\">\r\n        <Logo />\r\n\r\n        <Card className=\"w-20 m-b-2 center-text\">\r\n          <CardActionArea onClick={goToLogin}>\r\n            <CardContent>\r\n              <Typography>Sign in with phone number</Typography>\r\n            </CardContent>\r\n          </CardActionArea>\r\n        </Card>\r\n\r\n        <Typography className=\"bold italic cursor-pointer\" onClick={goToLogin}>\r\n          New here? Create an account!\r\n        </Typography>\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n","const config = {\r\n  apiKey: process.env.REACT_APP_APIKEY,\r\n  authDomain: process.env.REACT_APP_AUTHDOMAIN,\r\n  projectId: process.env.REACT_APP_PID,\r\n  storageBucket: process.env.REACT_APP_SB,\r\n  messagingSenderId: process.env.REACT_APP_SID,\r\n  appId: process.env.REACT_APP_APPID,\r\n  measurementId: process.env.REACT_APP_MID,\r\n};\r\n\r\nexport default config;\r\n","import React, { useEffect, useContext } from \"react\";\r\nimport firebaseConfig from \"../../utils/firebaseConfig\";\r\nimport * as firebaseui from \"firebaseui\";\r\nimport \"firebaseui/dist/firebaseui.css\";\r\nimport firebase from \"firebase\";\r\nimport { AuthContext } from \"../../utils/AuthContext\";\r\nimport axios from \"axios\";\r\n\r\nexport default function Login() {\r\n  const [, setUser] = useContext(AuthContext);\r\n\r\n  useEffect(() => {\r\n    !firebase.apps.length\r\n      ? firebase.initializeApp(firebaseConfig)\r\n      : firebase.app();\r\n\r\n    const uiConfig = {\r\n      callbacks: {\r\n        signInSuccessWithAuthResult: (authResult: any) => {\r\n          const user = authResult.user;\r\n          axios.get(`/api/user/${user.uid}`, { withCredentials: true })\r\n            .then(({ data }) => {\r\n              setUser({\r\n                ...data,\r\n                isNewUser: false,\r\n              });\r\n            }).catch(() => {\r\n              setUser({\r\n                phoneNumber: user.phoneNumber,\r\n                uid: user.uid,\r\n                isNewUser: true,\r\n              });\r\n            })\r\n          return false;\r\n        },\r\n        uiShown: () => {\r\n          // Note: forgive me for I have sinned but I did what I had to do ->\r\n          //        -> to make it look like in design without actually implementing the hard stuff\r\n          document.querySelectorAll<HTMLElement>(\r\n            \"#firebaseui-auth-container\"\r\n          )[0].style.paddingTop = \"5rem\";\r\n          document.querySelectorAll<HTMLElement>(\r\n            \".firebaseui-card-header\"\r\n          )[0].className = \"\";\r\n          document.querySelectorAll<HTMLElement>(\r\n            \".firebaseui-title\"\r\n          )[0].style.textAlign = \"center\";\r\n          document.querySelectorAll<HTMLElement>(\r\n            \".firebaseui-container\"\r\n          )[0].style.backgroundColor = \"transparent\";\r\n          document\r\n            .querySelectorAll<HTMLElement>(\".firebaseui-container\")[0]\r\n            .classList.remove(\"mdl-shadow--2dp\");\r\n          document.querySelectorAll<HTMLElement>(\r\n            \".firebaseui-card-footer\"\r\n          )[0].style.display = \"none\";\r\n        },\r\n      },\r\n      signInOptions: [\r\n        {\r\n          provider: firebase.auth.PhoneAuthProvider.PROVIDER_ID,\r\n          defaultCountry: \"RO\",\r\n        },\r\n      ],\r\n    };\r\n    var ui =\r\n      firebaseui.auth.AuthUI.getInstance() ||\r\n      new firebaseui.auth.AuthUI(firebase.auth());\r\n    ui.start(\"#firebaseui-auth-container\", uiConfig);\r\n  }, [setUser]);\r\n\r\n  return (\r\n    <>\r\n      <div id=\"firebaseui-auth-container\"></div>\r\n    </>\r\n  );\r\n}\r\n","import React, { useState, useContext } from \"react\";\r\nimport { Button, Container, TextField, Typography } from \"@material-ui/core\";\r\nimport { useFormik } from \"formik\";\r\nimport { AuthContext } from \"../../utils/AuthContext\";\r\nimport axios from \"axios\";\r\n\r\ninterface Errors {\r\n  name: Boolean,\r\n  surname: Boolean,\r\n  email: Boolean,\r\n}\r\n\r\nconst noErros: Errors = {\r\n  name: false,\r\n  surname: false,\r\n  email: false,\r\n}\r\n\r\nexport default function TellUsMore() {\r\n  const [selectedGender, setSelectedGender] = useState<string>(\"Other\");\r\n  const [user, setUser] = useContext(AuthContext);\r\n  const [errors, setErrors] = useState<Errors>(noErros);\r\n\r\n  const handleClick = (evt: any) => {\r\n    const newSelectedGender = evt.currentTarget.textContent;\r\n    setSelectedGender(newSelectedGender);\r\n  };\r\n\r\n  const getClassForGender = (genderName: string) => {\r\n    if (selectedGender === genderName) {\r\n      return \"list-element-selected\";\r\n    }\r\n    return \"list-element\";\r\n  }\r\n\r\n  const formik = useFormik({\r\n    initialValues: { \r\n      name: \"\", \r\n      surname: \"\", \r\n      email: \"\" \r\n    },\r\n    onSubmit: (values) => {\r\n      let newErrors: Errors = noErros;\r\n      let hasErrors = false;\r\n      \r\n      if (values.name === \"\") {\r\n        newErrors.name = true;\r\n        hasErrors = true;\r\n      }\r\n      if (values.surname === \"\") {\r\n        newErrors.surname = true;\r\n        hasErrors = true;\r\n      }\r\n      if (values.email === \"\") {\r\n        newErrors.email = true;\r\n        hasErrors = true;\r\n      }\r\n\r\n      setErrors(newErrors)\r\n      if (hasErrors) return;\r\n\r\n      const userInfo = {\r\n        phoneNumber: user.phoneNumber,\r\n        uid: user.uid,\r\n        name: values.name,\r\n        surname: values.surname,\r\n        gender: selectedGender,\r\n        email: values.email, \r\n      }\r\n      axios.post(`/api/user`, {...userInfo}, {withCredentials: true})\r\n      .then(() => setUser({...userInfo, isNewUser: false}))\r\n    },\r\n  });\r\n\r\n  return (\r\n    <Container className=\"m-t-5\">\r\n      <Typography className=\"center-text\" variant=\"h5\">\r\n        Tell us about you..\r\n      </Typography>\r\n\r\n      <form\r\n        onSubmit={formik.handleSubmit}\r\n        className=\"flex-column center-children\"\r\n      >\r\n        <div className=\"m-t-2 w-20\">\r\n          <TextField\r\n            name=\"name\"\r\n            label=\"name\"\r\n            variant=\"outlined\"\r\n            onChange={formik.handleChange}\r\n            className=\"w-100p\"\r\n            error={true === errors.name}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"m-t-1 w-20\">\r\n          <TextField\r\n            name=\"surname\"\r\n            label=\"surname\"\r\n            variant=\"outlined\"\r\n            onChange={formik.handleChange}\r\n            className=\"w-100p\"\r\n            error={true === errors.surname}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"m-t-1 w-20\">\r\n          <TextField\r\n            name=\"email\"\r\n            label=\"email\"\r\n            variant=\"outlined\"\r\n            onChange={formik.handleChange}\r\n            className=\"w-100p\"\r\n            error={true === errors.email}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"flex gap-1 m-t-2\" id=\"category\">\r\n          <div className={getClassForGender(\"Man\")} id=\"Man\" onClick={handleClick}>\r\n            <Typography align=\"center\">Man</Typography>\r\n          </div>\r\n          <div className={getClassForGender(\"Woman\")} id=\"Woman\" onClick={handleClick}>\r\n            <Typography align=\"center\">Woman</Typography>\r\n          </div>\r\n          <div className={getClassForGender(\"Other\")} id=\"Other\" onClick={handleClick}>\r\n            <Typography align=\"center\">Other</Typography>\r\n          </div>\r\n        </div>\r\n\r\n        <br />\r\n\r\n        <Button type=\"submit\">Next</Button>\r\n      </form>\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useState, useContext } from \"react\";\r\nimport Home from \"./Home\";\r\nimport Login from \"./Login\";\r\nimport TellUsMore from \"./TellUsMore\";\r\nimport { AuthContext } from \"../../utils/AuthContext\";\r\nimport { Redirect, useLocation } from \"react-router-dom\";\r\n\r\nexport default function Authentication() {\r\n  let location: any = useLocation();\r\n  const [goToLogin, setGoToLogin] = useState(false);\r\n  const [user] = useContext(AuthContext);\r\n\r\n  if (!goToLogin) {\r\n    return <Home setGoToLogin={setGoToLogin} />;\r\n  }\r\n\r\n  if (!user || user === \"undefined\") {\r\n    return <Login />;\r\n  }\r\n\r\n  if (user.isNewUser) {\r\n    return <TellUsMore />;\r\n  }\r\n\r\n  return (\r\n    <Redirect\r\n      to={{ pathname: location.state ? location.state.prevPath : \"/\" }}\r\n    />\r\n  );\r\n}\r\n","import Topnav from \"./Topnav\";\r\n\r\nexport default Topnav;\r\n","import React from \"react\";\r\nimport { AppBar } from \"@material-ui/core\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function TopNav() {\r\n  return (\r\n    <AppBar position=\"static\" color=\"primary\">\r\n      <Link to=\"/\"><img className=\"w-5 h-5 p-l-2 pointer\" alt=\"company logo\" src={\"logo_white.svg\"} /> </Link>\r\n    </AppBar>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\ninterface IProps {\r\n  logoHref: string;\r\n}\r\n\r\nexport default function Logo({ logoHref }: IProps) {\r\n  return (\r\n    <div className=\"restaurant-card__logo\">\r\n      <img\r\n        className=\"w-5 h-5 cover round border-white pointer\"\r\n        alt=\"company logo\"\r\n        src={logoHref}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\ninterface IProps {\r\n  backgroundHref: string;\r\n}\r\n\r\nexport default function Background({ backgroundHref }: IProps) {\r\n  return (\r\n    <img\r\n      className=\"w-100p h-5 cover\"\r\n      alt=\"company background\"\r\n      src={backgroundHref}\r\n    />\r\n  );\r\n}\r\n","import React, { Typography } from \"@material-ui/core\";\r\n\r\ninterface IProps {\r\n  name: string;\r\n  description: string | undefined;\r\n}\r\n\r\nexport default function Description({ name, description }: IProps) {\r\n\r\n  return (\r\n    <div className=\"p-1 secondary white\">\r\n      <br />\r\n      <Typography variant=\"h6\">{name}</Typography>\r\n      <Typography variant=\"body2\">\r\n        {description?.substring(0, 200)}...\r\n      </Typography>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Paper, Typography } from \"@material-ui/core\";\r\nimport Rating from \"@material-ui/lab/Rating\";\r\nimport DriveEtaIcon from \"@material-ui/icons/DriveEta\";\r\nimport AttachMoneyIcon from \"@material-ui/icons/AttachMoney\";\r\n\r\ninterface IProps {\r\n  priceRange: number;\r\n  starRating: number;\r\n  distance?: string;\r\n}\r\n\r\nexport default function Footer({ priceRange, starRating, distance }: IProps) {\r\n  return (\r\n    <Paper className=\"restaurant-card__footer\">\r\n      <div>\r\n        <div className=\"flex center\">\r\n          <DriveEtaIcon />\r\n          <Typography style={{ fontWeight: 600 }}>{`${distance ?? \"??\"} min`}</Typography>\r\n        </div>\r\n        <div className=\"flex center\">\r\n          <Rating\r\n            icon={<AttachMoneyIcon />}\r\n            name=\"half-rating-read\"\r\n            max={3}\r\n            defaultValue={priceRange}\r\n            precision={1}\r\n            readOnly\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"flex center\">\r\n        <Rating\r\n          name=\"half-rating-read\"\r\n          max={5}\r\n          defaultValue={starRating}\r\n          precision={0.5}\r\n          readOnly\r\n        />\r\n      </div>\r\n    </Paper>\r\n  );\r\n}\r\n","import RestaurantCard from './RestaurantCard'\r\n\r\nexport default RestaurantCard","import React, { Paper } from \"@material-ui/core\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Menu from \"../../../../models/MenuItem\";\r\nimport Logo from \"./Logo\";\r\nimport Background from \"./Background\";\r\nimport Description from \"./Description\";\r\nimport Footer from \"./Footer\";\r\n\r\ninterface IProps {\r\n  priceRange: number;\r\n  name: string;\r\n  description?: string | undefined;\r\n  backgroundHref: string;\r\n  logoHref: string;\r\n  menu: Array<Menu>;\r\n  distance?: string;\r\n  rating: number;\r\n}\r\n\r\nexport default function RestaurantCard({\r\n  priceRange,\r\n  name,\r\n  description,\r\n  logoHref,\r\n  backgroundHref,\r\n  menu,\r\n  distance,\r\n  rating,\r\n}: IProps) {\r\n  let history = useHistory();\r\n\r\n  const goToDetails = () => {\r\n    history.push({\r\n      pathname: \"/restaurant\",\r\n      search: `?name=${name}`,\r\n      state: {\r\n        priceRange,\r\n        name,\r\n        description,\r\n        logoHref,\r\n        backgroundHref,\r\n        menu,\r\n        distance,\r\n        rating\r\n      },\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"restaurant-card\">\r\n      <div onClick={goToDetails}>\r\n        <Logo logoHref={logoHref} />\r\n      </div>\r\n      <div onClick={goToDetails} className=\"pointer\">\r\n        <Background backgroundHref={backgroundHref} />\r\n      </div>\r\n      <Paper className=\"flex-column pointer\" onClick={goToDetails}>\r\n        <Description name={name} description={description} />\r\n        <Footer\r\n          priceRange={priceRange}\r\n          starRating={rating}\r\n          distance={distance}\r\n        />\r\n      </Paper>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Restaurant from \"../../../models/Restaurant\";\r\nimport RestaurantCard from \"./RestaurantCard\";\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\ninterface IProps {\r\n  restaurants: Array<Restaurant>;\r\n}\r\n\r\nexport default function Home({ restaurants }: IProps) {\r\n  return (\r\n    <div className=\"center-children\">\r\n      {restaurants.map((restaurant: Restaurant) => (\r\n        <RestaurantCard\r\n          key={uuidv4()}\r\n          name={restaurant.name}\r\n          description={restaurant.description}\r\n          backgroundHref={restaurant.backgroundHref}\r\n          logoHref={restaurant.logoHref}\r\n          menu={restaurant.menu}\r\n          distance={restaurant.distance}\r\n          priceRange={restaurant.priceRange}\r\n          rating={restaurant.rating}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n","import Home from \"./Home\";\r\n\r\nexport default Home;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Paper, InputBase } from \"@material-ui/core\";\r\nimport { MenuOutlined, SearchOutlined } from \"@material-ui/icons\";\r\nimport Restaurant from \"../../models/Restaurant\";\r\nimport RestaurantCardList from \"./components/RestaurantCardList\";\r\nimport axios from \"axios\";\r\nimport { Switch } from \"pretty-checkbox-react\";\r\nimport \"@djthoms/pretty-checkbox\";\r\nimport Dropdown from \"react-dropdown\";\r\nimport \"react-dropdown/style.css\";\r\n\r\nexport default function Home() {\r\n  const [restaurants, setRestaurants] = useState<Array<Restaurant>>([]);\r\n  const [filteredRestaurants, setFilteredRestaurants] = useState<\r\n    Array<Restaurant>\r\n  >([]);\r\n  const [searchText, setSearchText] = useState<string>(\"\");\r\n  const [enableFilter, setenableFilter] = useState<Boolean>(false);\r\n  const [covidFilter, setCovidFilter] = useState<Boolean>(false);\r\n\r\n  useEffect(() => {\r\n    setFilteredRestaurants(restaurants);\r\n  }, [restaurants]);\r\n\r\n  useEffect(() => {\r\n    navigator.geolocation.getCurrentPosition(({ coords }) => {\r\n      axios\r\n        .get(`/api/restaurant?lat=${coords.latitude}&lng=${coords.longitude}`, { withCredentials: true })\r\n        .then(({data}) => {\r\n          console.log(data) \r\n          setRestaurants(data);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    });\r\n  }, []);\r\n\r\n  const updateSearchText = (evt: any) => {\r\n    const text = evt.target.value;\r\n    setSearchText(text);\r\n    makeSearch();\r\n  };\r\n\r\n  const makeSearch = () => {\r\n    let filteredRestaurant = restaurants.filter(\r\n      (restaurant: Restaurant) =>\r\n        restaurant.name.includes(searchText) ||\r\n        restaurant.tags.some(t => t.includes(searchText))\r\n    )\r\n    if (covidFilter) {\r\n      filteredRestaurant = filteredRestaurant.filter(\r\n        (restaurant: Restaurant) => restaurant.currentAvailableSeats > 3/10 * restaurant.maxSeatCount\r\n      )\r\n    }\r\n    setFilteredRestaurants(filteredRestaurant);\r\n  }; \r\n\r\n  useEffect(() => {\r\n    makeSearch();\r\n  }, []);\r\n\r\n  const sortBy = ({ value }) => {\r\n    let orderedRestaurant = [...restaurants];\r\n    switch (value) {\r\n      case \"distance\":\r\n        orderedRestaurant.sort((r1, r2) => { \r\n          if (!r1.distance) return -1;\r\n          if (!r2.distance) return -1;\r\n          return r1.distance > r2.distance ? 1 : -1 \r\n        })\r\n        break;\r\n      case \"rating\":\r\n        orderedRestaurant.sort((r1, r2) => r1.rating < r2.rating ? 1 : -1)\r\n        break;\r\n      case \"price\":\r\n        orderedRestaurant.sort((r1, r2) => r1.priceRange > r2.priceRange ? 1 : -1)\r\n        break;\r\n      default:\r\n        throw new Error(\"invalid sort by value\")\r\n    }\r\n    setFilteredRestaurants(orderedRestaurant);\r\n  }\r\n\r\n  return (\r\n    <div className=\"home-page\">\r\n      <Paper className=\"home-page_search\">\r\n        <InputBase onChange={updateSearchText} fullWidth />\r\n        <div className=\"w-2\" onClick={makeSearch}>\r\n          <SearchOutlined />\r\n        </div>\r\n        <div className=\"w-2\" onClick={() => setenableFilter(prev => prev ? false : true)}>\r\n          <MenuOutlined />\r\n        </div>\r\n      </Paper>\r\n      {enableFilter && <Paper className=\"home-page_filter\">\r\n       <Dropdown \r\n        options={[\"distance\", \"rating\", \"price\"]}  \r\n        value={\"distance\"}  \r\n        onChange={sortBy}\r\n       />\r\n       <Switch color=\"success\" onChange={()=>{setCovidFilter(prev => prev ? false : true)}} > \r\n        Covid \r\n       </Switch>\r\n      </Paper>}\r\n      <RestaurantCardList restaurants={filteredRestaurants} />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport { useFormik } from \"formik\";\r\nimport {\r\n  Button,\r\n  Container,\r\n  Dialog,\r\n  TextField,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport axios from \"axios\";\r\nimport { AuthContext } from \"../../utils/AuthContext\";\r\n\r\nimport Rating from \"@material-ui/lab/Rating\";\r\n\r\ninterface IAddReviewForm {\r\n  open: boolean;\r\n  onClose: any;\r\n  restaurantName?: string;\r\n}\r\nexport default function AddReviewForm(props: IAddReviewForm) {\r\n  const [authContext,] = useContext(AuthContext);\r\n\r\n  const formik = useFormik({\r\n    onSubmit: () => {\r\n      let fileToBlob = async (file) =>\r\n        new Blob([new Uint8Array(await file.arrayBuffer())], {\r\n          type: file.type,\r\n        });\r\n\r\n      const formData = new FormData();\r\n      const file: any = formik.values.file;\r\n      fileToBlob(file)\r\n        .then((blob) => { \r\n          formData.append(\"description\", formik.values.description);\r\n          formData.append(\"rating\", String(formik.values.rating));\r\n          formData.append(\"streamfile\", blob);\r\n          formData.append(\"personName\", authContext.name);\r\n          if (props.restaurantName)\r\n            formData.append(\"restaurantName\", props.restaurantName);\r\n          axios\r\n            .post(\"/api/review\", formData, {\r\n              headers: {\r\n                \"Content-Type\": \"multipart/form-data\",\r\n              },\r\n              withCredentials: true\r\n            }) \r\n            .catch((err) => {\r\n              console.log(err.message);\r\n            });\r\n        })\r\n        .catch((err) => {\r\n          axios\r\n            .post(\"/api/review\", {\r\n              description: formik.values.description,\r\n              stars: formik.values.rating,\r\n              restaurantName: props.restaurantName,\r\n              personName: authContext.name,\r\n            }, { withCredentials: true })\r\n            .catch((err) => {\r\n              console.log(err.message);\r\n            });\r\n        })\r\n        .finally(() => props.onClose());\r\n    },\r\n    initialValues: { description: \"\", rating: 0, file: null },\r\n  });\r\n  return (\r\n    <Dialog open={props.open} onClose={props.onClose}>\r\n      <Container>\r\n        <Typography variant=\"h4\">Review</Typography>\r\n        <form className=\"flex-column\" onSubmit={formik.handleSubmit}>\r\n          <TextField\r\n            name=\"description\"\r\n            label=\"description\"\r\n            className=\"m-2\"\r\n            value={formik.values.description}\r\n            onChange={formik.handleChange}\r\n          />\r\n          <Button variant=\"contained\" component=\"label\" className=\"m-2\">\r\n            Upload Image\r\n            <input\r\n              type=\"file\"\r\n              hidden\r\n              onChange={(event: any) => {\r\n                if (event?.currentTarget?.files[0]) {\r\n                  formik.setFieldValue(\"file\", event.currentTarget.files[0]);\r\n                }\r\n              }}\r\n              className=\"form-control\"\r\n            />\r\n          </Button>\r\n          <Rating\r\n            className=\"m-2\"\r\n            name=\"half-rating-read\"\r\n            max={5}\r\n            defaultValue={0}\r\n            precision={0.5}\r\n            onChange={(event: any) => {\r\n              formik.setFieldValue(\"rating\", event.target.value);\r\n            }}\r\n          />\r\n          <Button type={\"submit\"} className=\"m-2\">\r\n            <Typography>Submit</Typography>\r\n          </Button>\r\n        </form>\r\n      </Container>\r\n    </Dialog>\r\n  );\r\n}\r\n","import React, { } from \"react\";\r\nimport { Typography, Button } from \"@material-ui/core\";\r\nimport { AddCircle, RemoveCircle } from \"@material-ui/icons\";\r\nimport MenuItem from \"../../../models/MenuItem\";\r\n\r\ninterface ItemQuantity {\r\n  item: MenuItem;\r\n  quantity: number;\r\n}\r\ninterface IProps {\r\n  menuItem: ItemQuantity,\r\n  setOrder: Function,\r\n}\r\n\r\nconst MenuItemComponent = ({ menuItem, setOrder }: IProps) => {\r\n\r\n  const handleAdd = () => {\r\n    setOrder((prev) =>\r\n      prev.map(({ item, quantity }) => item.name === menuItem.item.name ? ({ item, quantity: quantity + 1 }) : ({ item, quantity }))\r\n    );\r\n  };\r\n\r\n  const handlerRemove = () => {\r\n    setOrder((prev) =>\r\n      prev.map(({ item, quantity }) => item.name === menuItem.item.name ? ({ item, quantity: Math.max(0, quantity - 1) }) : ({ item, quantity }))\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex center\">\r\n\r\n      <Typography className=\"flex-1\"> {`${menuItem.item.name}: ${menuItem.item.price} RON / ${menuItem.item.quantity}g`} </Typography>\r\n\r\n      <div className=\"flex center\">\r\n        <Button onClick={handlerRemove}> <RemoveCircle /> </Button>\r\n        <Typography> {menuItem.quantity} </Typography>\r\n        <Button onClick={handleAdd}  color=\"secondary\"> <AddCircle /> </Button>\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MenuItemComponent\r\n","import { DialogProps, Typography } from \"@material-ui/core\";\r\nimport { DialogTitle } from \"@material-ui/core\";\r\nimport { Dialog } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport MenuItem from \"../../../models/MenuItem\";\r\nimport GooglePayButton from \"@google-pay/button-react\";\r\n\r\ninterface ItemQuantity {\r\n  item: MenuItem;\r\n  quantity: number;\r\n}\r\ninterface PaymentDialogProps {\r\n  dialogProps: DialogProps;\r\n  order: Array<ItemQuantity>;\r\n  finishMakeReservation: Function\r\n}\r\nconst PaymentDialog = (props: PaymentDialogProps) => {\r\n  const calculateTotal = (order: Array<ItemQuantity>) => {\r\n    let total = 0;\r\n    order.forEach(({ item, quantity }) => {\r\n      total += item.price * quantity;\r\n    });\r\n    return total;\r\n  };\r\n  return (\r\n    <Dialog {...props.dialogProps}>\r\n      <DialogTitle> <div className=\"center-text\"> Pay for your order </div> </DialogTitle>\r\n      <div className=\"center-children p-2 gap-1\">\r\n        <Typography>{`You have to pay ${calculateTotal(props.order)} RON`}</Typography>\r\n        <GooglePayButton\r\n          environment=\"TEST\"\r\n          paymentRequest={{\r\n            apiVersion: 2,\r\n            apiVersionMinor: 0,\r\n            allowedPaymentMethods: [\r\n              {\r\n                type: \"CARD\",\r\n                parameters: {\r\n                  allowedAuthMethods: [\"PAN_ONLY\", \"CRYPTOGRAM_3DS\"],\r\n                  allowedCardNetworks: [\"MASTERCARD\", \"VISA\"],\r\n                },\r\n                tokenizationSpecification: {\r\n                  type: \"PAYMENT_GATEWAY\",\r\n                  parameters: {\r\n                    gateway: \"example\",\r\n                  },\r\n                },\r\n              },\r\n            ],\r\n            merchantInfo: {\r\n              merchantId: \"12345678901234567890\",\r\n              merchantName: \"Demo Merchant\",\r\n            },\r\n            transactionInfo: {\r\n              totalPriceStatus: \"FINAL\",\r\n              totalPriceLabel: \"Total\",\r\n              totalPrice: `${calculateTotal(props.order)}`,\r\n              currencyCode: \"RON\",\r\n              countryCode: \"RO\",\r\n            },\r\n          }}\r\n          onLoadPaymentData={(paymentRequest) => {\r\n            console.log(\"load payment data\", paymentRequest);\r\n            props.finishMakeReservation();\r\n          }}\r\n        />\r\n      </div>\r\n    </Dialog>\r\n  );\r\n};\r\nexport default PaymentDialog;\r\n","import { Card } from '@material-ui/core'\r\nimport Rating from '@material-ui/lab/Rating';\r\nimport axios from 'axios';\r\nimport React, { useEffect, useState } from 'react'\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\ninterface IProps {\r\n  restaurantName: String\r\n}\r\n\r\nconst RestaurantReviews = ({ restaurantName }: IProps) => {\r\n  const [reviews, setReviews] = useState<Array<any>>([]);\r\n\r\n  useEffect(() => {\r\n    if (!restaurantName) return;\r\n\r\n    const init = async () => {\r\n      try {\r\n        const { data } = await axios.get(\"/api/review\", { params: { restaurantName }, withCredentials: true })\r\n        setReviews(data.reviews);\r\n        console.log(data)\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n    init();\r\n\r\n  }, [restaurantName]);\r\n\r\n  return (\r\n    <div className=\"flex-column gap-1 w-100p\">\r\n      {reviews.map((h) => (\r\n        <Card className=\"p-1\" key={uuidv4()}>\r\n          <div className=\"flex-align-items\" >\r\n            <div className=\"flex-1\">{h.personName}</div>\r\n            <div>\r\n              <Rating name=\"half-rating-read\" max={5} defaultValue={h.stars} precision={0.5} readOnly />\r\n            </div>\r\n          </div>\r\n          <hr />\r\n          {h.description && <q>{h.description}</q>}\r\n          {h.imageHref && <img src={h.imageHref} alt=\"review img\" />}\r\n        </Card>\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default RestaurantReviews\r\n","import RestaurantHome from \"./RestaurantHome\";\r\n\r\nexport default RestaurantHome;\r\n\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { Paper, Typography, Button } from \"@material-ui/core\";\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport AddCircleIcon from \"@material-ui/icons/AddCircle\";\r\nimport RemoveIcon from \"@material-ui/icons/Remove\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport AddReviewForm from \"../../components/forms/addReviewForm\";\r\nimport MenuItem from \"../../models/MenuItem\";\r\nimport MenuItemComponent from \"./components/MenuItemComponent\";\r\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\r\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\nimport axios from \"axios\";\r\nimport { Accordion } from \"@material-ui/core\";\r\nimport PaymentDialog from \"./components/PaymentDialog\";\r\nimport { AuthContext } from \"../../utils/AuthContext\";\r\nimport RestaurantReviews from \"./components/RestaurantReviews\";\r\nimport firebase from \"firebase\";\r\nimport firebaseConfig from \"../../utils/firebaseConfig\";\r\n\r\ninterface ItemQuantity {\r\n  item: MenuItem;\r\n  quantity: number;\r\n}\r\nexport default function RestaurantHome() {\r\n  let location = useLocation();\r\n  let history = useHistory();\r\n\r\n  const [authContext,] = useContext(AuthContext);\r\n  const [restaurant, setRestaurant] = useState<any>();\r\n  const [counter, setCounter] = useState<number>(1);\r\n  const [openReviewDialog, setOpenReviewDialog] = useState<boolean>(false);\r\n  const [openPaymentDialog, setOpenPaymentDialog] = useState<boolean>(false);\r\n  const [order, setOrder] = useState<Array<ItemQuantity>>([]);\r\n  const [dateTime, setDateTime] = useState(\"2017-05-24T10:30\");\r\n  const [fcmToken, setFcmToken] = useState<string>(\"\")\r\n\r\n  useEffect(() => {\r\n    if (location.state) { \r\n      //if user came from restaurant page\r\n      const _restaurant: any = location.state;\r\n      setRestaurant(_restaurant)\r\n      setOrder(_restaurant.menu.map((menuItem: MenuItem) => ({ item: menuItem, quantity: 0 })));\r\n    } else {\r\n      //if user came from url\r\n      const restaurantName = location[\"search\"].split(\"=\")[1];\r\n      (async function () {\r\n        const { data } = await axios.get(`/api/restaurant/${restaurantName}`)\r\n        const { restaurant } = data\r\n        setRestaurant(restaurant);\r\n        setOrder(restaurant.menu.map((menuItem: MenuItem) => ({ item: menuItem, quantity: 0 })));\r\n      })()\r\n    }\r\n  }, [location]);\r\n\r\n  //tutorial: https://blog.logrocket.com/push-notifications-with-react-and-firebase/\r\n  useEffect(() => { \r\n    (async function () {\r\n      try {\r\n        !firebase.apps.length\r\n        ? firebase.initializeApp(firebaseConfig)\r\n        : firebase.app();\r\n\r\n        const messaging = firebase.messaging();\r\n        await messaging.requestPermission();\r\n\r\n        const currentToken = await messaging.getToken({ vapidKey: process.env.REACT_APP_VAPIDKEY });\r\n        if (currentToken) {\r\n          console.log(\"current notification token => \", currentToken);\r\n        } else {\r\n          console.log(\"No registration token available. Request permission to generate one.\");\r\n          return;\r\n        } \r\n\r\n        setFcmToken(currentToken)\r\n      } catch (err) {\r\n        alert(err);\r\n      }\r\n    })()\r\n  }, []);\r\n\r\n  const finishMakeReservation = async () => {\r\n    try {\r\n      await axios.post(`/api/restaurant/${restaurant.name}/reservation`, {\r\n        reservationDate: dateTime,\r\n        seatCount: counter,\r\n        userPhone: authContext.phoneNumber, \r\n        userGender: authContext.gender, \r\n        userName: `${authContext.surname} ${authContext.name}`,\r\n        order: order.filter(o => o.quantity > 0).map(o => `${o.item.name} x ${o.quantity}`).join(', '),\r\n        fcmToken: fcmToken\r\n      }, { withCredentials: true })\r\n      .then(() => history.push(\"/reservation\"))\r\n    } catch (err) {\r\n      alert(JSON.stringify(err.response.data));\r\n    }\r\n  }\r\n  \r\n  const handleMakeReservation = () => {\r\n    if (counter === 0) {\r\n      alert(\"Choose seat count!\")\r\n      return;\r\n    } \r\n\r\n    const paymentRequired = order.some(o => o.quantity > 0);\r\n    if (paymentRequired) {\r\n      setOpenPaymentDialog(true);\r\n      return;\r\n    }\r\n\r\n    finishMakeReservation()\r\n  };\r\n\r\n  if (!restaurant) return null;\r\n\r\n  return (\r\n    <div className=\"restaurant-home\">\r\n\r\n      <img alt=\"company background\" src={restaurant.backgroundHref} className=\"restaurant-home__background\" />\r\n\r\n      <div className=\"restaurant-home__logo-parent\">\r\n        <img alt=\"company logo\" src={restaurant.logoHref} className=\"restaurant-home__logo\" />\r\n      </div>\r\n\r\n      <Paper className=\"restaurant-home__title\" >\r\n        <h1> {restaurant.name} </h1>\r\n        {restaurant.description}\r\n      </Paper>\r\n\r\n      {order.length > 0 && <Paper className=\"restaurant-home__menu-items\" >\r\n        Preorder the food\r\n            <div>\r\n          {order.map((menuItem: ItemQuantity) => <MenuItemComponent menuItem={menuItem} setOrder={setOrder} key={uuidv4()} />)}\r\n        </div>\r\n      </Paper>}\r\n\r\n      <Paper className=\"restaurant-home__appointment-inputs\" >\r\n        <div>When?</div>\r\n        <div>How many people?  </div>\r\n        <TextField id=\"date\" label=\"Date\" type=\"datetime-local\" value={dateTime} onChange={(event) => setDateTime(event.target.value)} />\r\n        <div>\r\n          <Button onClick={() => setCounter(prev => Math.max(0, prev - 1))}> <RemoveIcon /> </Button>\r\n          {counter}\r\n          <Button onClick={() => setCounter(prev => prev + 1)}> <AddCircleIcon color=\"secondary\" /> </Button>\r\n        </div>\r\n      </Paper>\r\n\r\n      <div className=\"restaurant-home__end-buttons\" >\r\n        <Button fullWidth variant=\"contained\" color=\"primary\" onClick={handleMakeReservation}> Make a reservation </Button>\r\n        <Button fullWidth variant=\"contained\" color=\"primary\" onClick={() => setOpenReviewDialog(true)}> Add review  </Button>\r\n      </div>\r\n\r\n      <Accordion>\r\n        <AccordionSummary expandIcon={<ExpandMoreIcon />} aria-controls=\"panel2a-content\" id=\"panel2a-header\">\r\n          <Typography variant=\"h5\">Reviews</Typography>\r\n        </AccordionSummary>\r\n        <AccordionDetails>\r\n          <RestaurantReviews restaurantName={restaurant.name} />\r\n        </AccordionDetails>\r\n      </Accordion>\r\n\r\n      <AddReviewForm restaurantName={restaurant.name} open={openReviewDialog} onClose={() => setOpenReviewDialog(false)} />\r\n      <PaymentDialog order={order} finishMakeReservation={finishMakeReservation} dialogProps={{ open: (openPaymentDialog), onClose: () => { setOpenPaymentDialog(false) } }} />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { useFormik } from \"formik\";\r\nimport Restaurant from \"../../models/Restaurant\";\r\nimport {\r\n  Container,\r\n  Typography,\r\n  Paper,\r\n  Grid,\r\n  Button,\r\n  TextField,\r\n} from \"@material-ui/core\";\r\nimport { AddOutlined, RemoveCircle } from \"@material-ui/icons\";\r\nimport MenuItem from \"../../models/MenuItem\";\r\nimport axios from \"axios\";\r\n\r\nconst RestaurantDetailsControlCard = (props: { restaurant: Restaurant }) => {\r\n  const [restaurant, setRestaurant] = useState(props.restaurant);\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      name: restaurant.name,\r\n      description: restaurant.description,\r\n    },\r\n    onSubmit: () => {},\r\n  });\r\n\r\n  const handleAddNewMenuItem = () => {\r\n    setRestaurant((prev: Restaurant) => {\r\n      const newMenuItem: MenuItem = {\r\n        name: \"\",\r\n        quantity: 0,\r\n        price: 0,\r\n      };\r\n      return {\r\n        ...prev,\r\n        menu: [...prev.menu, newMenuItem],\r\n      };\r\n    });\r\n  };\r\n  const handleSaveChanges = () => {\r\n    const cleanRestaurant: any = { ...restaurant };\r\n    delete cleanRestaurant._id;\r\n    delete cleanRestaurant.ownerId;\r\n    delete cleanRestaurant.distance;\r\n    delete cleanRestaurant.__v;\r\n    cleanRestaurant.menu = cleanRestaurant.menu.map((menuItem) => ({\r\n      ...menuItem,\r\n      _id: undefined,\r\n    }));\r\n\r\n    const {starCount, starSum, rating, ...putParams} = cleanRestaurant;\r\n    console.log(putParams)\r\n    axios\r\n      .put(`/api/restaurant/${restaurant.name}`, {\r\n        ...putParams,\r\n        ...formik.values,\r\n      }, { withCredentials: true })\r\n      .then((res) => {\r\n        console.log(res);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        alert(err);\r\n      });\r\n  };\r\n  return (\r\n    <Grid item xs={12}>\r\n      <Paper className=\"p-1\">\r\n        <Container>\r\n          <Typography variant=\"h4\">{\"Tile & Description\"}</Typography>\r\n          <div style={{ display: \"flex\", flexDirection: \"column\", gap: \"1rem\", marginBottom: \"1rem\", padding: \"1rem\" }}>\r\n            <TextField\r\n              label=\"name\"\r\n              name=\"name\"\r\n              value={formik.values.name}\r\n              onChange={formik.handleChange}\r\n            />\r\n            <TextField\r\n              label=\"description\"\r\n              name=\"description\"\r\n              value={formik.values.description}\r\n              onChange={formik.handleChange}\r\n            />\r\n          </div>\r\n\r\n          <Typography variant=\"h4\">{\"Menu\"}</Typography>\r\n          <Grid container spacing={3} className=\"p-1\">\r\n            {restaurant.menu.map((menuItem, idx) => {\r\n              return (\r\n                <Grid item xs={12} key={idx}>\r\n                  <Paper className=\"p-1\">\r\n                    <TextField\r\n                      label=\"Name\"\r\n                      value={menuItem.name}\r\n                      onChange={(event) => {\r\n                        const menu = [...restaurant.menu];\r\n                        menu[idx].name = event.target.value;\r\n                        setRestaurant((prev) => ({ ...prev, menu }));\r\n                      }}\r\n                    ></TextField>\r\n                    <TextField\r\n                      label=\"Quantity\"\r\n                      value={menuItem.quantity}\r\n                      onChange={(event) => {\r\n                        const menu = [...restaurant.menu];\r\n                        menu[idx].quantity = Number(event.target.value);\r\n                        setRestaurant((prev) => ({ ...prev, menu }));\r\n                      }}\r\n                    ></TextField>\r\n                    <TextField\r\n                      label=\"Price\"\r\n                      value={menuItem.price}\r\n                      onChange={(event) => {\r\n                        const menu = [...restaurant.menu];\r\n                        menu[idx].price = Number(event.target.value);\r\n                        setRestaurant((prev) => ({ ...prev, menu }));\r\n                      }}\r\n                    ></TextField>\r\n                    <Button\r\n                      onClick={() => {\r\n                        const menu = restaurant.menu.filter(\r\n                          (val, idx2) => idx2 !== idx\r\n                        );\r\n                        setRestaurant((prev) => ({ ...prev, menu }));\r\n                      }}\r\n                    >\r\n                      <RemoveCircle />\r\n                    </Button>\r\n                  </Paper>\r\n                </Grid>\r\n              );\r\n            })}\r\n            <Grid item xs={12}>\r\n              <Button onClick={handleAddNewMenuItem}>\r\n                add item <AddOutlined />\r\n              </Button>\r\n            </Grid>\r\n            <Button onClick={handleSaveChanges}>Save changes</Button>\r\n          </Grid>\r\n        </Container>\r\n      </Paper>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default RestaurantDetailsControlCard;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Paper, Typography, Button } from \"@material-ui/core\";\r\nimport Reservation from \"../../models/Reservation\";\r\nimport axios from \"axios\";\r\nimport Restaurant from \"../../models/Restaurant\";\r\n\r\nconst RestaurantReservations = (props: { restaurant: Restaurant }) => {\r\n  const { restaurant } = props;\r\n  const [reservations, setReservations] = useState<Array<Reservation>>([]);\r\n\r\n  const getAndSetReservations = async () => {\r\n    while (1) {\r\n      try {\r\n        const { data } = await axios.get(`/api/reservation`, { params: { restaurantName: restaurant.name, }, withCredentials: true })\r\n        console.log(\"reservations => \", data.reverse());\r\n        setReservations(data);\r\n\r\n        await new Promise(res => setTimeout(res, 1000))\r\n      } catch (err) {\r\n        console.log(err)\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getAndSetReservations();\r\n  }, []);\r\n\r\n  const acceptReservation = (reservation: Reservation) => {\r\n    axios.post(`/api/reservation/${reservation._id}`, { status: \"ACCEPTED\" }, { withCredentials: true })\r\n  };\r\n\r\n  const declineReservation = (reservation: Reservation) => {\r\n    axios.post(`/api/reservation/${reservation._id}`, { status: \"DECLINED\" }, { withCredentials: true })\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex wrap\">\r\n      {(reservations.length &&\r\n        reservations.map((val: Reservation, id: number) => (\r\n          <Paper className=\"p-1 m-1 flex-column\" style={{width: \"20rem\"}}>\r\n            <div><b>restaurant:</b> {val.restaurantName}</div>\r\n            <div><b>date:</b> {val.reservationDate.toString().split(\"T\")[0]}</div>\r\n            <div><b>time:</b> {val.reservationDate.toString().split(\"T\")[1].split(\".\")[0]}</div>\r\n            <div><b>number of seats:</b> {val.seatCount}</div>\r\n            <div><b>name:</b> {val.userName}</div>\r\n            <div><b>gender:</b> {val.userGender}</div>\r\n            <div><b>phone:</b> {val.userPhone}</div>\r\n            <div><b>orders:</b> {val.order && val.order !== \"\" ? val.order : \"no orders\"}</div>\r\n            <div><b>status:</b> {val.status}</div>\r\n            <div className=\"flex\">\r\n              <Button onClick={() => declineReservation(val)}> Decline </Button>\r\n              <Button onClick={() => acceptReservation(val)}> Accept </Button>\r\n            </div>\r\n          </Paper>\r\n        ))) || (\r\n          <Paper>\r\n            <Typography>\r\n              You don't have any reservations maybe hire a marketing guy\r\n          </Typography>\r\n          </Paper>\r\n        )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RestaurantReservations;\r\n","import RestaurantDashboard from \"./RestaurantDashboard\";\r\n\r\nexport default RestaurantDashboard;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { Container, Typography, Paper, Grid, Button } from \"@material-ui/core\";\r\nimport { AuthContext } from \"../../utils/AuthContext\";\r\nimport axios from \"axios\";\r\nimport { AddOutlined } from \"@material-ui/icons\";\r\nimport Restaurant from \"../../models/Restaurant\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport RestaurantDetailsControlCard from \"./RestaurantDetailsControlCard\";\r\nimport RestaurantReservationsTable from \"./RestaurantReservationsTable\";\r\n \r\nconst RestaurantDashboard = () => {\r\n  const [authContext,] = useContext(AuthContext);\r\n  const [restaurants, setRestaurants] = useState<Array<Restaurant>>([]);\r\n  const [selectedRestaurant, setSelectedRestaurant] = useState<Restaurant | null>(null);\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(\"/api/restaurant\", { params: { ownerId: authContext.uid }, withCredentials: true })\r\n      .then((val) => {\r\n        if (val.status !== 200) throw new Error(val.data);\r\n        console.log(val.data, authContext.uid)\r\n        setRestaurants(val.data);\r\n        setSelectedRestaurant(val.data[0]);\r\n      })\r\n      .catch((err) => {\r\n        alert(err);\r\n      });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    console.log(\"selectedRestaurant=>\", selectedRestaurant);\r\n  }, [selectedRestaurant]);\r\n\r\n  const onSelectedRestaurantChange = (event) => {\r\n    const restaurantName = event.target.value;\r\n    const _selectedRestaurant = restaurants.find(\r\n      (restaurant) => restaurant.name === restaurantName\r\n    );\r\n    console.log(_selectedRestaurant);\r\n    if (_selectedRestaurant) setSelectedRestaurant({ ..._selectedRestaurant });\r\n  };\r\n\r\n  return (\r\n    <div className=\"m-t-1\">\r\n      <Container>\r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12}>\r\n            <Typography variant=\"h4\">Select a restaurant</Typography>\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <Paper className=\"p-1\">\r\n              {selectedRestaurant && (\r\n                <Select\r\n                  fullWidth\r\n                  value={selectedRestaurant.name}\r\n                  onChange={onSelectedRestaurantChange}\r\n                  style={{ marginTop: \"1rem\", marginBottom: \"1rem\" }}\r\n                >\r\n                  {restaurants.map((restaurant, idx) => (\r\n                    <MenuItem key={idx} value={restaurant.name}>\r\n                      {restaurant.name}\r\n                    </MenuItem>\r\n                  ))}\r\n                </Select>\r\n              )}\r\n            </Paper>\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <Typography variant=\"h4\">Restaurant Details</Typography>\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            {selectedRestaurant && (\r\n              <RestaurantDetailsControlCard restaurant={selectedRestaurant} />\r\n            )}\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <Typography variant={\"h4\"}>Reservatations</Typography>\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            {selectedRestaurant && (\r\n              <RestaurantReservationsTable restaurant={selectedRestaurant} />\r\n            )}\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <Button>\r\n              <Typography> add a restaurant</Typography>\r\n              <AddOutlined />\r\n            </Button>\r\n          </Grid>\r\n        </Grid>\r\n      </Container>\r\n    </div>\r\n  );\r\n};\r\nexport default RestaurantDashboard;\r\n","import UserReservation from \"./UserReservation\";\r\n\r\nexport default UserReservation;","import React, { useEffect, useState, useContext } from \"react\";\r\nimport { Paper, Typography } from \"@material-ui/core\";\r\nimport Reservation from \"../../models/Reservation\";\r\nimport axios from \"axios\";\r\nimport { AuthContext } from \"../../utils/AuthContext\";\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport firebase from 'firebase';\r\nimport firebaseConfig from \"../../utils/firebaseConfig\";\r\n\r\nconst UserReservation = () => {\r\n  const [reservations, setReservations] = useState<Array<Reservation>>([]);\r\n  const [authContext,] = useContext(AuthContext);\r\n  const [messaging, setMessaging] = useState<any>()\r\n\r\n  const getAndSetReservations = async () => {\r\n    while (1) {\r\n      try {\r\n        const { data } = await axios.get(`/api/reservation`, { params: { userPhone: authContext.phone, }, withCredentials: true })\r\n        //console.log(\"reservations => \", data);\r\n        setReservations(data.reverse());\r\n\r\n        await new Promise(res => setTimeout(res, 1000))\r\n      } catch (err) {\r\n        console.log(err)\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getAndSetReservations();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    !firebase.apps.length\r\n      ? firebase.initializeApp(firebaseConfig)\r\n      : firebase.app();\r\n    setMessaging(firebase.messaging()); \r\n  }, []);\r\n\r\n  //tutorial: https://blog.logrocket.com/push-notifications-with-react-and-firebase/\r\n  useEffect(() => {\r\n    if (!messaging) return \r\n    (async function() {\r\n      try {\r\n        await messaging.requestPermission() \r\n        \r\n        const currentToken = await messaging.getToken({ vapidKey: process.env.REACT_APP_VAPIDKEY})   \r\n        if (currentToken) {\r\n          console.log(\"current notification token => \", currentToken);\r\n        } else {\r\n          console.log('No registration token available. Request permission to generate one.');\r\n        }\r\n        \r\n        await messaging.onMessage((payload) => {\r\n          console.log('Message received. ', payload);\r\n        })\r\n\r\n      } catch (err) {\r\n        alert(err);\r\n      }\r\n    })()\r\n  }, [messaging]);\r\n\r\n  const getStatus = (status: string) => {\r\n    switch (status) {\r\n      case \"ACCEPTED\":\r\n        return <b style={{ color: \"green\" }}> ACCEPTED </b>\r\n      case \"DECLINED\":\r\n        return <b style={{ color: \"RED\" }}> DECLINED </b>\r\n      default:\r\n        return <CircularProgress />\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <h1 className=\"center-text\">Reservations</h1>\r\n      <div className=\"flex-column wrap center\" >\r\n        {(reservations.length &&\r\n          reservations.map((val: Reservation, id: number) => (\r\n            <Paper className=\"p-1 m-1 flex-column\" style={{ width: \"20rem\" }}>\r\n              <div><b>restaurant:</b> {val.restaurantName}</div>\r\n              <div><b>date:</b> {val.reservationDate.toString().split(\"T\")[0]}</div>\r\n              <div><b>time:</b> {val.reservationDate.toString().split(\"T\")[1].split(\".\")[0]}</div>\r\n              <div><b>number of seats:</b> {val.seatCount}</div>\r\n              <div><b>name:</b> {val.userName}</div>\r\n              <div><b>gender:</b> {val.userGender}</div>\r\n              <div><b>phone:</b> {val.userPhone}</div>\r\n              <div><b>orders:</b> {val.order && val.order !== \"\" ? val.order : \"no orders\"}</div>\r\n              <br />\r\n              <div className=\"center-children flex-1\">\r\n                {getStatus(val.status)}\r\n              </div>\r\n            </Paper>\r\n          ))) || (\r\n            <Paper>\r\n              <Typography>\r\n                You don't have any reservations maybe hire a marketing guy\r\n          </Typography>\r\n            </Paper>\r\n          )}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default UserReservation\r\n","import \"./assets/index.scss\";\r\nimport \"./assets/atomic.scss\";\r\nimport { createMuiTheme, ThemeProvider } from \"@material-ui/core\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\n\r\nimport PrivateRoute from \"./utils/PrivateRoute\";\r\nimport Authentication from \"./screens/Authentication\";\r\nimport Topnav from \"./components/Topnav\";\r\nimport Home from \"./screens/Home\";\r\nimport RestaurantHome from \"./screens/RestaurantHome\";\r\nimport RestaurantDashboard from \"./screens/RestaurantDashboard\";\r\nimport TellUsMore from \"./screens/Authentication/TellUsMore\";\r\nimport UserReservation from \"./screens/UserReservation\";\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      main: \"#3e605c\",\r\n    },\r\n    secondary: {\r\n      main: \"#ff8c0a\",\r\n    },\r\n  },\r\n});\r\n\r\nfunction App() {\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <Router>\r\n        <Switch>\r\n          <Route exact path=\"/login\"> <Authentication /> </Route>\r\n          <Route exact path=\"/info\"> <TellUsMore /> </Route>\r\n          <Route>\r\n            <Topnav />\r\n            <PrivateRoute exact path=\"/\" component={Home} /> \r\n            <PrivateRoute exact path=\"/restaurant\" component={RestaurantHome} /> \r\n            <PrivateRoute exact path=\"/dashboard\" component={RestaurantDashboard} />\r\n            <PrivateRoute exact path=\"/reservation\" component={UserReservation} />\r\n          </Route>\r\n        </Switch>\r\n      </Router>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// IMPORTANT: NU ESTE CODUL MEU, COD STANDARD DE SERVICE WORKER, LUAT PENTRU A PUTEA FOLOSI PUSH NOTIFICATION SI A PUTEA FACE APLICATIA PWA\r\n\r\n// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n  // [::1] is the IPv6 localhost address.\r\n  window.location.hostname === '[::1]' ||\r\n  // 127.0.0.1/8 is considered localhost for IPv4.\r\n  window.location.hostname.match(\r\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n  )\r\n);\r\n\r\nexport default function register () {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Lets check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl);\r\n      } else {\r\n        // Is not local host. Just register service worker\r\n        registerValidSW(swUrl);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW (swUrl) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the old content will have been purged and\r\n              // the fresh content will have been added to the cache.\r\n              // It's the perfect time to display a \"New content is\r\n              // available; please refresh.\" message in your web app.\r\n              console.log('New content is available; please refresh.');\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker (swUrl) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get('content-type').indexOf('javascript') === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister () {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}","import { ReportHandler } from \"web-vitals\";\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport { AuthContextWrapper } from \"./utils/AuthContext\";\r\nimport registerServiceWorker from \"./registerServiceWorker\";\r\nimport reportWebVitals from \"./utils/reportWebVitals\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <AuthContextWrapper>\r\n      <App />\r\n    </AuthContextWrapper>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\nreportWebVitals();\r\nregisterServiceWorker();\r\n"],"sourceRoot":""}